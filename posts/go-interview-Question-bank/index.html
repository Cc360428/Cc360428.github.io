<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Golang Interview Question bank" />
<meta property="og:locale" content="en" />
<meta name="description" content="1~30" />
<meta property="og:description" content="1~30" />
<link rel="canonical" href="https://cc360428.github.io//posts/go-interview-Question-bank/" />
<meta property="og:url" content="https://cc360428.github.io//posts/go-interview-Question-bank/" />
<meta property="og:site_name" content="Cc Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-06-24T22:37:18+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Golang Interview Question bank" />
<meta name="twitter:site" content="@Cc63451336" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-06-24T22:37:18+08:00","datePublished":"2020-06-24T22:37:18+08:00","description":"1~30","headline":"Golang Interview Question bank","mainEntityOfPage":{"@type":"WebPage","@id":"https://cc360428.github.io//posts/go-interview-Question-bank/"},"url":"https://cc360428.github.io//posts/go-interview-Question-bank/"}</script>
<!-- End Jekyll SEO tag -->


  <title>Golang Interview Question bank | Cc Blog
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Cc Blog">
<meta name="application-name" content="Cc Blog">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    
      <link rel="preconnect" href="https://cdnjs.cloudflare.com" >
      <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="https://cc360428.github.io/assets/img/favicons/all.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <h1 class="site-title">
      <a href="/">Cc Blog</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">My name is Cc and I come from China</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/Cc360428"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/Cc63451336"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['li_chao_cheng','163.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>Golang Interview Question bank</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>Golang Interview Question bank</h1>

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1593009438"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Jun 24, 2020
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://Cc360428.gitee.io/cc/">Cc</a>
            
          </em>
        </span>

        <!-- read time -->
        <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="24612 words"
>
  <em>136 min</em> read</span>

      </div>
      <!-- .d-flex -->
    </div>
    <!-- .post-meta -->
  </header>

  <div class="content">
    <h2 id="130"><span class="me-2">1~30</span><a href="#130" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="1-下面这段代码输出的内容"><span class="me-2">1. 下面这段代码输出的内容</span><a href="#1-下面这段代码输出的内容" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="s">"fmt"</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">defer_call</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">defer_call</span><span class="p">()</span>  <span class="p">{</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"打印前"</span><span class="p">)}()</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"打印中"</span><span class="p">)}()</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"打印后"</span><span class="p">)}()</span>
    <span class="nb">panic</span><span class="p">(</span><span class="s">"触发异常"</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：输出内容为：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>打印后
打印中
打印前
panic: 触发异常
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong>
<code class="language-plaintext highlighter-rouge">defer</code> 的执行顺序是先进后出。出现 panic 语句的时候，会先按照 <code class="language-plaintext highlighter-rouge">defer</code> 的后进先出顺序执行，最后才会执行 panic。</p>

<h3 id="2-下面这段代码输出什么说明原因"><span class="me-2">2. 下面这段代码输出什么，说明原因</span><a href="#2-下面这段代码输出什么说明原因" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="s">"fmt"</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">slice</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">}</span>
    <span class="n">m</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="o">*</span><span class="kt">int</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">slice</span> <span class="p">{</span>
        <span class="n">m</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">val</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">m</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="s">"-&gt;"</span><span class="p">,</span> <span class="o">*</span><span class="n">v</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：输出内容为：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>// 注：key的顺序无法确定
0 -&gt; 3
1 -&gt; 3
2 -&gt; 3
3 -&gt; 3
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p><code class="language-plaintext highlighter-rouge">for range</code> 循环的时候会创建每个元素的副本，而不是每个元素的引用，所以 <code class="language-plaintext highlighter-rouge">m[key] = &amp;val</code> 取的都是变量 val 的地址，所以最后 <code class="language-plaintext highlighter-rouge">map</code> 中的所有元素的值都是变量 <code class="language-plaintext highlighter-rouge">val</code> 的地址，因为最后 <code class="language-plaintext highlighter-rouge">val</code> 被赋值为 3，所有输出的都是 3。</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>    <span class="c">// 正确修改</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">slice</span> <span class="p">{</span>
      <span class="n">v</span> <span class="o">:=</span> <span class="n">val</span>
      <span class="n">m</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">v</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="3-下面两段代码输出什么"><span class="me-2">3. 下面两段代码输出什么？</span><a href="#3-下面两段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="c">// 1.</span>
<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">s</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="m">5</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="p">}</span>

<span class="c">// 2.</span>
<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">s</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：输出内容为：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>// 1.
<span class="o">[</span>0 0 0 0 0 1 2 3]

// 2.
<span class="o">[</span>1 2 3 4]
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>使用 <code class="language-plaintext highlighter-rouge">append</code> 向 <code class="language-plaintext highlighter-rouge">slice</code> 中添加元素，第一题中 slice 容量为 5，所以补 5 个 0，第二题为 0，所以不需要。</p>

<h3 id="4-下面这段代码有什么缺陷"><span class="me-2">4. 下面这段代码有什么缺陷？</span><a href="#4-下面这段代码有什么缺陷" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">funcMui</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="n">sum</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="no">nil</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：第二个返回值没有命名.</strong></p>

<p><strong>解析：</strong></p>

<p>在函数有多个返回值时，只要有一个返回值有命名，其他的也必须命名。如果有多个返回值必须加上括号();如果只有一个返回值且命名也需要加上括号()。这里的第一个返回值有命名 sum，第二个没有命名，所以错误。</p>

<h3 id="5-new-与-make-的区别"><span class="me-2">5. new() 与 make() 的区别</span><a href="#5-new-与-make-的区别" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><strong>解析：</strong></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">new(T)</code> 和 <code class="language-plaintext highlighter-rouge">make(T, args)</code> 是 Go 语言内建函数，用来分配内存，但适用的类型不用。</li>
  <li><code class="language-plaintext highlighter-rouge">new(T)</code> 会为了 <code class="language-plaintext highlighter-rouge">T</code> 类型的新值分配已置零的内存空间，并返回地址（指针），即类型为 <code class="language-plaintext highlighter-rouge">*T</code> 的值。换句话说就是，返回一个指针，该指针指向新分配的、类型为 <code class="language-plaintext highlighter-rouge">T</code> 的零值。适用于值类型，如 <code class="language-plaintext highlighter-rouge">数组</code> 、 <code class="language-plaintext highlighter-rouge">结构体</code> 等。</li>
  <li><code class="language-plaintext highlighter-rouge">make(T, args)</code> 返回初始化之后的 T 类型的值，也不是指针 <code class="language-plaintext highlighter-rouge">*T</code> ，是经过初始化之后的 T 的引用。 <code class="language-plaintext highlighter-rouge">make()</code> 只适用于 <code class="language-plaintext highlighter-rouge">slice</code> 、 <code class="language-plaintext highlighter-rouge">map</code> 和 <code class="language-plaintext highlighter-rouge">channel</code> 。</li>
</ul>

<h3 id="6-下面这段代码能否通过编译不能的话原因是什么如果能输出什么"><span class="me-2">6. 下面这段代码能否通过编译，不能的话原因是什么；如果能，输出什么？</span><a href="#6-下面这段代码能否通过编译不能的话原因是什么如果能输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">list</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">([]</span><span class="kt">int</span><span class="p">)</span>
    <span class="n">list</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">list</span><span class="p">,</span> <span class="m">1</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">list</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：不能通过</strong></p>

<p><strong>解析：</strong></p>

<p>不能通过编译， <code class="language-plaintext highlighter-rouge">new([]int)</code> 之后的 <code class="language-plaintext highlighter-rouge">list</code> 是一个 <code class="language-plaintext highlighter-rouge">*int[]</code> 类型的指针，不能对指针执行 <code class="language-plaintext highlighter-rouge">append</code> 操作。可以使用 <code class="language-plaintext highlighter-rouge">make()</code> 初始化之后再用。同样的， <code class="language-plaintext highlighter-rouge">map</code> 和 <code class="language-plaintext highlighter-rouge">channel</code> 建议使用 <code class="language-plaintext highlighter-rouge">make()</code> 或字面量的方式初始化，不要用 <code class="language-plaintext highlighter-rouge">new</code> 。</p>

<h3 id="7-下面这段代码能否通过编译不能的话原因是什么如果可以输出什么"><span class="me-2">7. 下面这段代码能否通过编译，不能的话原因是什么；如果可以，输出什么？</span><a href="#7-下面这段代码能否通过编译不能的话原因是什么如果可以输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">s1</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">}</span>
    <span class="n">s2</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">}</span>
    <span class="n">s1</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：不能通过</strong></p>

<p><strong>解析：</strong></p>

<p><code class="language-plaintext highlighter-rouge">append()</code> 的第二个参数不能直接使用 <code class="language-plaintext highlighter-rouge">slice</code> ，需使用 <code class="language-plaintext highlighter-rouge">...</code> 操作符，将一个切片追加到另一个切片上： <code class="language-plaintext highlighter-rouge">append(s1, s2...)</code> 。或者直接跟上元素，形如： <code class="language-plaintext highlighter-rouge">append(s1, 1, 2, 3)</code> 。</p>

<h3 id="8-下面这段代码能否通过编译如果可以输出什么"><span class="me-2">8. 下面这段代码能否通过编译，如果可以，输出什么？</span><a href="#8-下面这段代码能否通过编译如果可以输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="p">(</span>
    <span class="n">size</span> <span class="o">:=</span> <span class="m">1024</span>
    <span class="n">max_size</span> <span class="o">=</span> <span class="n">size</span> <span class="o">*</span> <span class="m">2</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">max_size</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：不能通过</strong></p>

<p><strong>解析：</strong></p>

<p>这道题的主要知识点是变量的简短模式，形如：x := 100 。但这种声明方式有限制：</p>

<ol>
  <li>必须使用显示初始化；</li>
  <li>不能提供数据类型，编译器会自动推导；</li>
  <li>只能在函数内部使用简短模式；</li>
</ol>

<h3 id="9-下面这段代码能否通过编译不能的话原因是什么如果通过输出什么"><span class="me-2">9. 下面这段代码能否通过编译？不能的话，原因是什么？如果通过，输出什么？</span><a href="#9-下面这段代码能否通过编译不能的话原因是什么如果通过输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">sn1</span> <span class="o">:=</span> <span class="k">struct</span> <span class="p">{</span>
        <span class="n">age</span>  <span class="kt">int</span>
        <span class="n">name</span> <span class="kt">string</span>
	<span class="p">}{</span><span class="n">age</span><span class="o">:</span> <span class="m">11</span><span class="p">,</span> <span class="n">name</span><span class="o">:</span> <span class="s">"qq"</span><span class="p">}</span>
	<span class="n">sn2</span> <span class="o">:=</span> <span class="k">struct</span> <span class="p">{</span>
        <span class="n">age</span>  <span class="kt">int</span>
        <span class="n">name</span> <span class="kt">string</span>
	<span class="p">}{</span><span class="n">age</span><span class="o">:</span> <span class="m">11</span><span class="p">,</span> <span class="n">name</span><span class="o">:</span> <span class="s">"11"</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">sn1</span> <span class="o">==</span> <span class="n">sn2</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"sn1 == sn2"</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">sm1</span> <span class="o">:=</span> <span class="k">struct</span> <span class="p">{</span>
        <span class="n">age</span> <span class="kt">int</span>
        <span class="n">m</span>   <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span>
    <span class="p">}{</span><span class="n">age</span><span class="o">:</span> <span class="m">11</span><span class="p">,</span> <span class="n">m</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="s">"a"</span><span class="o">:</span> <span class="s">"1"</span><span class="p">}}</span>
    <span class="n">sm2</span> <span class="o">:=</span> <span class="k">struct</span> <span class="p">{</span>
        <span class="n">age</span> <span class="kt">int</span>
        <span class="n">m</span>   <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span>
    <span class="p">}{</span><span class="n">age</span><span class="o">:</span> <span class="m">11</span><span class="p">,</span> <span class="n">m</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="s">"a"</span><span class="o">:</span> <span class="s">"1"</span><span class="p">}}</span>

    <span class="k">if</span> <span class="n">sm1</span> <span class="o">==</span> <span class="n">sm2</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"sm1 == sm2"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：不能通过,invalid operation: sm1 == sm2</strong></p>

<p><strong>解析：</strong></p>

<p>考点是结构体的比较，有几个需要注意的地方：</p>

<ol>
  <li>结构体只能比较是否相等，但是不能比较大小；</li>
  <li>想同类型的结构体才能进行比较，结构体是否相同不但与属性类型有关，还与属性顺序相关；</li>
  <li>如果 struct 的所有成员都可以比较，则该 struct 就可以通过==或!=进行比较是否相同，比较时逐个项进行比较，如果每一项都相等，则两个结构体才相等，否则不相等；</li>
</ol>

<p><strong>那有什么是可以比较的呢？</strong></p>

<ul>
  <li>常见的有 bool、数值型、字符、指针、数组等</li>
</ul>

<p><strong>不能比较的有</strong></p>

<ul>
  <li>slice、map、函数</li>
</ul>

<h3 id="10-通过指针变量-p-访问其成员变量-name有哪几种方式"><span class="me-2">10. 通过指针变量 p 访问其成员变量 name,有哪几种方式？</span><a href="#10-通过指针变量-p-访问其成员变量-name有哪几种方式" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. p.name</li>
  <li>B. (&amp;p).name</li>
  <li>C. (*p).name</li>
  <li>D. p-&gt;name</li>
</ul>

<p><strong>答：A C</strong></p>

<p><strong>解析：</strong></p>

<p><code class="language-plaintext highlighter-rouge">&amp;</code> 取址运算符， <code class="language-plaintext highlighter-rouge">*</code> 指针解引用</p>

<h3 id="11-下面这段代码能否通过编译如果通过输出什么"><span class="me-2">11. 下面这段代码能否通过编译？如果通过，输出什么？</span><a href="#11-下面这段代码能否通过编译如果通过输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="s">"fmt"</span>

<span class="k">type</span> <span class="n">MyInt1</span> <span class="kt">int</span>
<span class="k">type</span> <span class="n">MyInt2</span> <span class="o">=</span> <span class="kt">int</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">i</span> <span class="kt">int</span> <span class="o">=</span> <span class="m">0</span>
    <span class="k">var</span> <span class="n">i1</span> <span class="n">MyInt1</span> <span class="o">=</span> <span class="n">i</span>
    <span class="k">var</span> <span class="n">i2</span> <span class="n">MyInt2</span> <span class="o">=</span> <span class="n">i</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：不能通过</strong></p>

<p><strong>解析：</strong></p>

<p>这道题考的是 <code class="language-plaintext highlighter-rouge">类型别名</code> 与 <code class="language-plaintext highlighter-rouge">类型定义</code> 的区别
第 5 行代码是基于类型 <code class="language-plaintext highlighter-rouge">int</code> 创建了新类型 <code class="language-plaintext highlighter-rouge">MyInt1</code> ，第 6 行代码是创建了 int 的类型别名 <code class="language-plaintext highlighter-rouge">MyInt2</code> ，注意类型别名的定义是 <code class="language-plaintext highlighter-rouge">=</code> 。所以，第 10 行代码相当于是将 int 类型的变量赋值给 MyInt1 类型的变量，Go 是强类型语言，编译当然不通过；而 MyInt2 只是 int 的别名，本质上还是 int，可以赋值。
第 10 行代码的赋值可以使用强制类型转换 <code class="language-plaintext highlighter-rouge">var i1 MyInt1 = MyInt1(i)</code></p>

<h3 id="12-以下代码输出什么"><span class="me-2">12. 以下代码输出什么？</span><a href="#12-以下代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">a</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">7</span><span class="p">,</span> <span class="m">8</span><span class="p">,</span> <span class="m">9</span><span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%+v</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
    <span class="n">ap</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%+v</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
    <span class="n">app</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%+v</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">ap</span><span class="p">(</span><span class="n">a</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">a</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="m">10</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">app</span><span class="p">(</span><span class="n">a</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">a</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">=</span> <span class="m">1</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：输出内容为：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="o">[</span>7 8 9]
<span class="o">[</span>7 8 9]
<span class="o">[</span>1 8 9]
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>因为 append 导致底层数组重新分配内存了，append 中的 a 这个 alice 的底层数组和外面不是一个，并没有改变外面的。</p>

<h3 id="13-关于字符串连接下面语法正确的是"><span class="me-2">13. 关于字符串连接，下面语法正确的是？</span><a href="#13-关于字符串连接下面语法正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. str := ‘abc’ + ‘123’</li>
  <li>B. str := “abc” + “123”</li>
  <li>C. str := ‘123’ + “abc”</li>
  <li>D. fmt.Sprintf(“abc%d”, 123)</li>
</ul>

<p><strong>答：B、D</strong></p>

<p><strong>解析：</strong></p>

<p>在 Golang 中字符串用双引号，字符用单引号
字符串连接除了以上两种连接方式，还有 <code class="language-plaintext highlighter-rouge">strings.Join()</code> 、 <code class="language-plaintext highlighter-rouge">buffer.WriteString()</code> 等</p>

<h3 id="14-下面这段代码能否编译通过如果可以输出什么"><span class="me-2">14. 下面这段代码能否编译通过？如果可以，输出什么？</span><a href="#14-下面这段代码能否编译通过如果可以输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">const</span> <span class="p">(</span>
    <span class="n">x</span> <span class="o">=</span> <span class="no">iota</span>
    <span class="n">_</span>
    <span class="n">y</span>
    <span class="n">z</span> <span class="o">=</span> <span class="s">"zz"</span>
    <span class="n">k</span>
    <span class="n">p</span> <span class="o">=</span> <span class="no">iota</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：编译通过，输出：</strong><code class="language-plaintext highlighter-rouge">**0 2 zz zz 5**</code></p>

<p><strong>解析：</strong></p>

<p>iota 初始值为 0，所以 x 为 0，_表示不赋值，但是 iota 是从上往下加 1 的，所以 y 是 2，z 是“zz”,k 和上面一个同值也是“zz”,p 是 iota,从上 0 开始数他是 5</p>

<h3 id="15-下面赋值正确的是"><span class="me-2">15. 下面赋值正确的是（）</span><a href="#15-下面赋值正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. var x = nil</li>
  <li>B. var x interface{} = nil</li>
  <li>C. var x string = nil</li>
  <li>D. var x error = nil</li>
</ul>

<p><strong>答：B、D</strong></p>

<p><strong>解析：</strong></p>

<p>A 错在没有写类型，C 错在字符串的空值是 <code class="language-plaintext highlighter-rouge">""</code> 而不是 nil。
知识点：nil 只能赋值给指针、chan、func、interface、map、或 slice、类型的变量。</p>

<h3 id="16-关于-init-函数下面说法正确的是"><span class="me-2">16. 关于 init 函数，下面说法正确的是（）</span><a href="#16-关于-init-函数下面说法正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. 一个包中，可以包含多个 init 函数；</li>
  <li>B. 程序编译时，先执行依赖包的 init 函数，再执行 main 包内的 init 函数；</li>
  <li>C. main 包中，不能有 init 函数；</li>
  <li>D. init 函数可以被其他函数调用；</li>
</ul>

<p><strong>答：A、B</strong></p>

<p><strong>解析：</strong></p>

<ol>
  <li>init()函数是用于程序执行前做包的初始化的函数，比如初始化包里的变量等；</li>
  <li>一个包可以出现多个 init()函数，一个源文件也可以包含多个 init()函数；</li>
  <li>同一个包中多个 init()函数的执行顺序没有明确的定义，但是不同包的 init 函数是根据包导入的依赖关系决定的；</li>
  <li>init 函数在代码中不能被显示调用、不能被引用（赋值给函数变量），否则出现编译失败；</li>
  <li>一个包被引用多次，如 A import B，C import B，A import C，B 被引用多次，但 B 包只会初始化一次；</li>
  <li>引入包，不可出现死循环。即 A import B，B import A，这种情况下编译失败；</li>
</ol>

<p><a href="https://cdn.nlark.com/yuque/0/2019/png/517869/1574040068413-cfcc17c2-6f8b-4c1c-b09b-d6d297c9f745.png#align=left&amp;display=inline&amp;height=330&amp;name=image.png&amp;originHeight=419&amp;originWidth=948&amp;size=156149&amp;status=done&amp;width=746" class="popup img-link  shimmer"><img src="https://cdn.nlark.com/yuque/0/2019/png/517869/1574040068413-cfcc17c2-6f8b-4c1c-b09b-d6d297c9f745.png#align=left&amp;display=inline&amp;height=330&amp;name=image.png&amp;originHeight=419&amp;originWidth=948&amp;size=156149&amp;status=done&amp;width=746" alt="image.png" loading="lazy"></a></p>

<h3 id="17-下面这段代码输出什么以及原因"><span class="me-2">17. 下面这段代码输出什么以及原因？</span><a href="#17-下面这段代码输出什么以及原因" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">hello</span><span class="p">()</span> <span class="p">[]</span><span class="kt">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="no">nil</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">h</span> <span class="o">:=</span> <span class="n">hello</span>
    <span class="k">if</span> <span class="n">h</span> <span class="o">==</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"nil"</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"not nil"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. nil</li>
  <li>B. not nil</li>
  <li>C. compilation error</li>
</ul>

<p><strong>答：B</strong></p>

<p><strong>解析：</strong></p>

<p>这道题里面，是将 <code class="language-plaintext highlighter-rouge">hello()</code> 赋值给变量 h，而不是函数的返回值，所以输出 <code class="language-plaintext highlighter-rouge">not nil</code></p>

<h3 id="18-下面这段代码能否编译通过如果可以输出什么"><span class="me-2">18. 下面这段代码能否编译通过？如果可以，输出什么？</span><a href="#18-下面这段代码能否编译通过如果可以输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">GetValue</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="m">1</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">i</span> <span class="o">:=</span> <span class="n">GetValue</span><span class="p">()</span>
    <span class="k">switch</span> <span class="n">i</span><span class="o">.</span><span class="p">(</span><span class="k">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kt">int</span><span class="o">:</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"int"</span><span class="p">)</span>
    <span class="k">case</span> <span class="kt">string</span><span class="o">:</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"string"</span><span class="p">)</span>
    <span class="k">case</span> <span class="k">interface</span><span class="p">{}</span><span class="o">:</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"interface"</span><span class="p">)</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"unknown"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：编译失败</strong></p>

<p><strong>解析：</strong></p>

<p>只有接口类型才能使用类型选择
类型选择的语法形如：i.(type)，其中 i 是接口，type 是固定关键字，需要注意的是，只有接口类型才可以使用类型选择。</p>

<h3 id="19-关于-channel下面语法正确的是"><span class="me-2">19. 关于 channel，下面语法正确的是（）</span><a href="#19-关于-channel下面语法正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. var ch chan int</li>
  <li>B. ch := make(chan int)</li>
  <li>C. &lt;-ch</li>
  <li>D. ch&lt;-</li>
</ul>

<p><strong>答：A、B、C</strong></p>

<p><strong>解析：</strong></p>

<p>A、B 都是申明 channel；C 读取 channel；写 channel 是必须带上值，所以 D 错误。</p>

<h3 id="20-下面这段代码输出什么"><span class="me-2">20. 下面这段代码输出什么？</span><a href="#20-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. 0</li>
  <li>B. 1</li>
  <li>C. Compilation error</li>
</ul>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">person</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">name</span> <span class="kt">string</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">m</span> <span class="k">map</span><span class="p">[</span><span class="n">person</span><span class="p">]</span><span class="kt">int</span>
    <span class="n">p</span> <span class="o">:=</span> <span class="n">person</span><span class="p">{</span><span class="s">"make"</span><span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：A</strong></p>

<p><strong>解析：</strong></p>

<p>打印一个 map 中不存在的值时，返回元素类型的零值。这个例子中，m 的类型是 map[person]int，因为 m 中 不存在 p，所以打印 int 类型的零值，即 0。</p>

<h3 id="21-下面这段代码输出什么"><span class="me-2">21. 下面这段代码输出什么？</span><a href="#21-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. 18</li>
  <li>B. 5</li>
  <li>C. Compilation error</li>
</ul>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">hello</span><span class="p">(</span><span class="n">num</span> <span class="o">...</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">num</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">=</span> <span class="m">18</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">i</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">7</span><span class="p">}</span>
    <span class="n">hello</span><span class="p">(</span><span class="n">i</span><span class="o">...</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="m">0</span><span class="p">])</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：18</strong></p>

<p><strong>解析：</strong></p>

<p>可变参数传递过去，改变了第一个值。</p>

<h3 id="22-下面这段代码输出什么"><span class="me-2">22. 下面这段代码输出什么？</span><a href="#22-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">a</span> <span class="o">:=</span> <span class="m">5</span>
    <span class="n">b</span> <span class="o">:=</span> <span class="m">8.1</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. 13.1</li>
  <li>B. 13</li>
  <li>C. compilation error</li>
</ul>

<p><strong>答：C</strong></p>

<p><strong>解析：</strong></p>

<p><code class="language-plaintext highlighter-rouge">a</code> 的类型是<code class="language-plaintext highlighter-rouge">int</code> ，<code class="language-plaintext highlighter-rouge">b</code> 的类型是<code class="language-plaintext highlighter-rouge">float</code> ，两个不同类型的数值不能相加，编译报错。</p>

<h3 id="23-下面这段代码输出什么"><span class="me-2">23. 下面这段代码输出什么？</span><a href="#23-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"fmt"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">a</span> <span class="o">:=</span> <span class="p">[</span><span class="m">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">}</span>
    <span class="n">t</span> <span class="o">:=</span> <span class="n">a</span><span class="p">[</span><span class="m">3</span><span class="o">:</span><span class="m">4</span><span class="o">:</span><span class="m">4</span><span class="p">]</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="m">0</span><span class="p">])</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. 3</li>
  <li>B. 4</li>
  <li>C. compilation error</li>
</ul>

<p><strong>答：B</strong></p>

<p><strong>解析：</strong></p>

<ul>
  <li>
    <p>知识点：操作符 <code class="language-plaintext highlighter-rouge">[i, j]</code>。基于数组（切片）可以使用操作符 <code class="language-plaintext highlighter-rouge">[i, j]</code>创建新的切片，从索引 <code class="language-plaintext highlighter-rouge">i</code> ，到索引 <code class="language-plaintext highlighter-rouge">i</code> ，到索引 <code class="language-plaintext highlighter-rouge">j</code> 结束，截取已有数组（切片）的任意部分，返回新的切片，新切片的值包含原数组（切片）的 <code class="language-plaintext highlighter-rouge">i</code> 索引的值，但是不包含 <code class="language-plaintext highlighter-rouge">j</code> 索引的值。<code class="language-plaintext highlighter-rouge">i</code> 、<code class="language-plaintext highlighter-rouge">j</code> 都是可选的，<code class="language-plaintext highlighter-rouge">i</code> 如果省略，默认是 0，<code class="language-plaintext highlighter-rouge">j</code> 如果省略，默认是原数组（切片）的长度。<code class="language-plaintext highlighter-rouge">i</code> 、<code class="language-plaintext highlighter-rouge">j</code> 都不能超过这个长度值。</p>
  </li>
  <li>
    <p>假如底层数组的大小为 k，截取之后获得的切片的长度和容量的计算方法：<strong>长度：j-i，容量：k-i</strong>。</p>

    <p>截取操作符还可以有第三个参数，形如 [i,j,k]，第三个参数 k 用来限制新切片的容量，但不能超过原数组（切片）的底层数组大小。截取获得的切片的长度和容量分别是：<strong>j-i、k-i</strong>。</p>

    <p>所以例子中，切片 t 为 [4]，长度和容量都是 1。</p>
  </li>
</ul>

<h3 id="24-下面这段代码输出什么"><span class="me-2">24. 下面这段代码输出什么？</span><a href="#24-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">a</span> <span class="o">:=</span> <span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">}</span>
    <span class="n">b</span> <span class="o">:=</span> <span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"equal"</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"not equal"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. compilation error</li>
  <li>B. equal</li>
  <li>C. not equal</li>
</ul>

<p><strong>答：A</strong></p>

<p><strong>解析：</strong></p>

<p>Go 中的数组是值类型，可比较，另外一方面，数组的长度也是数组类型的组成部分，所以 <code class="language-plaintext highlighter-rouge">a</code> 和 <code class="language-plaintext highlighter-rouge">b</code> 是不同的类型，是不能比较的，所以编译错误。</p>

<h3 id="25-关于-cap-函数的适用类型下面说法正确的是"><span class="me-2">25. 关于 cap() 函数的适用类型，下面说法正确的是()</span><a href="#25-关于-cap-函数的适用类型下面说法正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. array</li>
  <li>B. slice</li>
  <li>C. map</li>
  <li>D. channel</li>
</ul>

<p><strong>答：A、B、D</strong></p>

<p><strong>解析：</strong></p>

<p>cap()，cap() 函数不适用 map</p>

<h3 id="26-下面这段代码输出什么"><span class="me-2">26. 下面这段代码输出什么？</span><a href="#26-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">i</span> <span class="k">interface</span><span class="p">{}</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"nil"</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"not nil"</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. nil</li>
  <li>B. not nil</li>
  <li>C. compilation error</li>
</ul>

<p><strong>答：A</strong></p>

<p><strong>解析：</strong></p>

<p>当且仅当接口的动态值和动态类型都为 nil 时，接口类型值才为 nil</p>

<h3 id="27-下面这段代码输出什么"><span class="me-2">27. 下面这段代码输出什么？</span><a href="#27-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">s</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">)</span>
    <span class="nb">delete</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">"h"</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s">"h"</span><span class="p">])</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. runtime panic</li>
  <li>B. 0</li>
  <li>C. compilation error</li>
</ul>

<p><strong>答：B</strong></p>

<p><strong>解析：</strong></p>

<p>删除 map 不存在的键值对时，不会报错，相当于没有任何作用；获取不存在的减值对时，返回值类型对应的零值，所以返回 0。</p>

<h3 id="28-下面属于关键字的是"><span class="me-2">28. 下面属于关键字的是（）</span><a href="#28-下面属于关键字的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. func</li>
  <li>B. struct</li>
  <li>C. class</li>
  <li>D. defer</li>
</ul>

<p><strong>答：A、B、D</strong></p>

<h3 id="29-下面这段代码输出什么"><span class="me-2">29. 下面这段代码输出什么？</span><a href="#29-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">i</span> <span class="o">:=</span> <span class="o">-</span><span class="m">5</span>
    <span class="n">j</span> <span class="o">:=</span> <span class="o">+</span><span class="m">5</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%+d %+d"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. -5 +5</li>
  <li>B. +5 +5</li>
  <li>C. 0 0</li>
</ul>

<p><strong>答：A</strong></p>

<p><strong>解析：</strong></p>

<p><code class="language-plaintext highlighter-rouge">%d</code>表示输出十进制数字，<code class="language-plaintext highlighter-rouge">+</code>表示输出数值的符号。这里不表示取反。</p>

<h3 id="30-下面这段代码输出什么"><span class="me-2">30. 下面这段代码输出什么？</span><a href="#30-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">People</span> <span class="k">struct</span><span class="p">{}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">p</span> <span class="o">*</span><span class="n">People</span><span class="p">)</span> <span class="n">ShowA</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"showA"</span><span class="p">)</span>
    <span class="n">p</span><span class="o">.</span><span class="n">ShowB</span><span class="p">()</span>
<span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">p</span> <span class="o">*</span><span class="n">People</span><span class="p">)</span> <span class="n">ShowB</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"showB"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">Teacher</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">People</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">t</span> <span class="o">*</span><span class="n">Teacher</span><span class="p">)</span> <span class="n">ShowB</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"teacher showB"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">t</span> <span class="o">:=</span> <span class="n">Teacher</span><span class="p">{}</span>
    <span class="n">t</span><span class="o">.</span><span class="n">ShowB</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：teacher showB</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：结构体嵌套。</p>

<p>在嵌套结构体中，People 称为内部类型，Teacher 称为外部类型；通过嵌套，内部类型的属性、方法，可以为外部类型所有，就好像是外部类型自己的一样。此外，外部类型还可以定义自己的属性和方法，甚至可以定义与内部相同的方法，这样内部类型的方法就会被“屏蔽”。这个例子中的 ShowB() 就是同名方法。</p>

<h2 id="3160"><span class="me-2">31~60</span><a href="#3160" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="31-定义一个包内全局字符串变量下面语法正确的是"><span class="me-2">31. 定义一个包内全局字符串变量，下面语法正确的是（）</span><a href="#31-定义一个包内全局字符串变量下面语法正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. var str string</li>
  <li>B. str := “”</li>
  <li>C. str = “”</li>
  <li>D. var str = “”</li>
</ul>

<p><strong>答：A、D</strong></p>

<p><strong>解析：</strong></p>

<p>B 只支持局部变量声明；C 是赋值，str 必须在这之前已经声明</p>

<h3 id="32-下面这段代码输出什么"><span class="me-2">32. 下面这段代码输出什么?</span><a href="#32-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">hello</span><span class="p">(</span><span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">i</span> <span class="o">:=</span> <span class="m">5</span>
    <span class="k">defer</span> <span class="n">hello</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="m">10</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：5</strong></p>

<p><strong>解析：</strong></p>

<p>这个例子中，hello() 函数的参数在执行 defer 语句的时候会保存一份副本，在实际调用 hello() 函数时用，所以是 5.</p>

<h3 id="33-下面这段代码输出什么"><span class="me-2">33. 下面这段代码输出什么？</span><a href="#33-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">People</span> <span class="k">struct</span><span class="p">{}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">p</span> <span class="o">*</span><span class="n">People</span><span class="p">)</span> <span class="n">ShowA</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"showA"</span><span class="p">)</span>
    <span class="n">p</span><span class="o">.</span><span class="n">ShowB</span><span class="p">()</span>
<span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">p</span> <span class="o">*</span><span class="n">People</span><span class="p">)</span> <span class="n">ShowB</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"showB"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">Teacher</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">People</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">t</span> <span class="o">*</span><span class="n">Teacher</span><span class="p">)</span> <span class="n">ShowB</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"teacher showB"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">t</span> <span class="o">:=</span> <span class="n">Teacher</span><span class="p">{}</span>
    <span class="n">t</span><span class="o">.</span><span class="n">ShowA</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>showA
showB
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>知识点：结构体嵌套。这道题可以结合第 12 天的第三题一起看，Teacher 没有自己 ShowA()，所以调用内部类型 People 的同名方法，需要注意的是第 5 行代码调用的是 People 自己的 ShowB 方法。</p>

<h3 id="34-下面代码输出什么"><span class="me-2">34. 下面代码输出什么？</span><a href="#34-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">str</span> <span class="o">:=</span> <span class="s">"hello"</span>
    <span class="n">str</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'x'</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">str</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. hello</li>
  <li>B. xello</li>
  <li>C. compilation error</li>
</ul>

<p><strong>答：C</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：常量</p>

<p>Go 语言中的字符串是只读的。</p>

<h3 id="35-下面代码输出什么"><span class="me-2">35. 下面代码输出什么？</span><a href="#35-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">incr</span><span class="p">(</span><span class="n">p</span> <span class="o">*</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="o">*</span><span class="n">p</span><span class="o">++</span>
    <span class="k">return</span> <span class="o">*</span><span class="n">p</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">p</span> <span class="o">:=</span><span class="m">1</span>
    <span class="n">incr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. 1</li>
  <li>B. 2</li>
  <li>C. 3</li>
</ul>

<p><strong>答：B</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：指针</p>

<p>incr() 函数里的 p 是 <code class="language-plaintext highlighter-rouge">*int</code> 类型的指针，指向的是 main() 函数的变量 p 的地址。第 2 行代码是将该地址的值执行一个自增操作，incr() 返回自增后的结果。</p>

<h3 id="36-对-add-函数调用正确的是"><span class="me-2">36. 对 add() 函数调用正确的是（）</span><a href="#36-对-add-函数调用正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">add</span><span class="p">(</span><span class="n">args</span> <span class="o">...</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>

    <span class="n">sum</span> <span class="o">:=</span> <span class="m">0</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">arg</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">args</span> <span class="p">{</span>
        <span class="n">sum</span> <span class="o">+=</span> <span class="n">arg</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">sum</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. add(1, 2)</li>
  <li>B. add(1, 3, 7)</li>
  <li>C. add([]int{1, 2})</li>
  <li>D. add([]int{1, 3, 7}…)</li>
</ul>

<p><strong>答：ABD</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：<code class="language-plaintext highlighter-rouge">可变函数</code>。</p>

<h3 id="37-下面代码下划线处可以填入哪个选项以输出-yes-nil"><span class="me-2">37. 下面代码下划线处可以填入哪个选项以输出 yes nil？</span><a href="#37-下面代码下划线处可以填入哪个选项以输出-yes-nil" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">s1</span> <span class="p">[]</span><span class="kt">int</span>
    <span class="k">var</span> <span class="n">s2</span> <span class="o">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{}</span>
    <span class="k">if</span> <span class="n">__</span> <span class="o">==</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"yes nil"</span><span class="p">)</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"no nil"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. s1</li>
  <li>B. s2</li>
  <li>C. s1、s2 都可以</li>
</ul>

<p><strong>答：A</strong></p>

<p><strong>解析：</strong></p>

<p><a href="https://github.com/yqchilde/Golang-Interview/issues/6">讨论 #6</a></p>

<p>知识点：nil 切片和空切片。</p>

<p>nil 切片和 nil 相等，一般用来表示一个不存在的切片；空切片和 nil 不相等，表示一个空的集合。</p>

<h3 id="38-下面这段代码输出什么"><span class="me-2">38. 下面这段代码输出什么？</span><a href="#38-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">i</span> <span class="o">:=</span> <span class="m">65</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. A</li>
  <li>B. 65</li>
  <li>C. compilation error</li>
</ul>

<p><strong>答：A</strong></p>

<p><strong>解析：</strong></p>

<p>UTF-8 编码中，十进制数字 65 对应的符号是 A。但是在 Goland 中会有警告 <code class="language-plaintext highlighter-rouge">Conversion from int to string interprets an integer value as a code point</code>，
推荐使用 <code class="language-plaintext highlighter-rouge">var i byte = 65</code> 或 <code class="language-plaintext highlighter-rouge">var i uint8 = 65</code> 替代</p>

<h3 id="39-下面这段代码输出什么"><span class="me-2">39. 下面这段代码输出什么？</span><a href="#39-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">A</span> <span class="k">interface</span> <span class="p">{</span>
    <span class="n">ShowA</span><span class="p">()</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">B</span> <span class="k">interface</span> <span class="p">{</span>
    <span class="n">ShowB</span><span class="p">()</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">Work</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">i</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">w</span> <span class="n">Work</span><span class="p">)</span> <span class="n">ShowA</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">w</span><span class="o">.</span><span class="n">i</span> <span class="o">+</span> <span class="m">10</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">w</span> <span class="n">Work</span><span class="p">)</span> <span class="n">ShowB</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">w</span><span class="o">.</span><span class="n">i</span> <span class="o">+</span> <span class="m">20</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">c</span> <span class="o">:=</span> <span class="n">Work</span><span class="p">{</span><span class="m">3</span><span class="p">}</span>
    <span class="k">var</span> <span class="n">a</span> <span class="n">A</span> <span class="o">=</span> <span class="n">c</span>
    <span class="k">var</span> <span class="n">b</span> <span class="n">B</span> <span class="o">=</span> <span class="n">c</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ShowA</span><span class="p">())</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">ShowB</span><span class="p">())</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：13 23</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：接口。</p>

<p>一种类型实现多个接口，结构体 Work 分别实现了接口 A、B，所以接口变量 a、b 调用各自的方法 ShowA() 和 ShowB()，输出 13、23。</p>

<h3 id="40-切片-abc-的长度和容量分别是多少"><span class="me-2">40. 切片 a、b、c 的长度和容量分别是多少？</span><a href="#40-切片-abc-的长度和容量分别是多少" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="n">s</span> <span class="o">:=</span> <span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">}</span>
    <span class="n">a</span> <span class="o">:=</span> <span class="n">s</span><span class="p">[</span><span class="o">:</span><span class="m">0</span><span class="p">]</span>
    <span class="n">b</span> <span class="o">:=</span> <span class="n">s</span><span class="p">[</span><span class="o">:</span><span class="m">2</span><span class="p">]</span>
    <span class="n">c</span> <span class="o">:=</span> <span class="n">s</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="o">:</span><span class="nb">cap</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：0 3、2 3、1 2</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：数组或切片的截取操作。</p>

<p>截取操作有带 2 个或者 3 个参数，形如：[i:j] 和 [i:j:k]，假设截取对象的底层数组长度为 l。在操作符 [i:j] 中，如果 i 省略，默认 0，如果 j 省略，默认底层数组的长度，截取得到的<strong>切片长度和容量计算方法是 j-i、l-i</strong>。操作符 [i:j:k]，k 主要是用来限制切片的容量，但是不能大于数组的长度 l，截取得到的<strong>切片长度和容量计算方法是 j-i、k-i</strong>。</p>

<h3 id="41-下面代码中-a-b-两处应该怎么修改才能顺利编译"><span class="me-2">41. 下面代码中 A B 两处应该怎么修改才能顺利编译？</span><a href="#41-下面代码中-a-b-两处应该怎么修改才能顺利编译" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">m</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span>        <span class="c">//A</span>
    <span class="n">m</span><span class="p">[</span><span class="s">"a"</span><span class="p">]</span> <span class="o">=</span> <span class="m">1</span>
    <span class="k">if</span> <span class="n">v</span> <span class="o">:=</span> <span class="n">m</span><span class="p">[</span><span class="s">"b"</span><span class="p">];</span> <span class="n">v</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>  <span class="c">//B</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>在 A 处只声明了 map m ,并没有分配内存空间，不能直接赋值，需要使用 make()，都提倡使用 make() 或者字面量的方式直接初始化 map。</p>

<p>B 处，<code class="language-plaintext highlighter-rouge">v,k := m["b"]</code> 当 key 为 b 的元素不存在的时候，v 会返回值类型对应的零值，k 返回 false。</p>

<h3 id="42-下面代码输出什么"><span class="me-2">42. 下面代码输出什么？</span><a href="#42-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">A</span> <span class="k">interface</span> <span class="p">{</span>
    <span class="n">ShowA</span><span class="p">()</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">B</span> <span class="k">interface</span> <span class="p">{</span>
    <span class="n">ShowB</span><span class="p">()</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">Work</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">i</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">w</span> <span class="n">Work</span><span class="p">)</span> <span class="n">ShowA</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">w</span><span class="o">.</span><span class="n">i</span> <span class="o">+</span> <span class="m">10</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">w</span> <span class="n">Work</span><span class="p">)</span> <span class="n">ShowB</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">w</span><span class="o">.</span><span class="n">i</span> <span class="o">+</span> <span class="m">20</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">c</span> <span class="o">:=</span> <span class="n">Work</span><span class="p">{</span><span class="m">3</span><span class="p">}</span>
    <span class="k">var</span> <span class="n">a</span> <span class="n">A</span> <span class="o">=</span> <span class="n">c</span>
    <span class="k">var</span> <span class="n">b</span> <span class="n">B</span> <span class="o">=</span> <span class="n">c</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ShowB</span><span class="p">())</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">ShowA</span><span class="p">())</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. 23 13</li>
  <li>B. compilation error</li>
</ul>

<p><strong>答：B</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：接口的静态类型。</p>

<p>a、b 具有相同的动态类型和动态值，分别是结构体 work 和 {3}；a 的静态类型是 A，b 的静态类型是 B，接口 A 不包括方法 ShowB()，接口 B 也不包括方法 ShowA()，编译报错。看下编译错误：</p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>a.ShowB undefined <span class="o">(</span><span class="nb">type </span>A has no field or method ShowB<span class="o">)</span>
b.ShowA undefined <span class="o">(</span><span class="nb">type </span>B has no field or method ShowA<span class="o">)</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="43-下面代码中x-已声明y-没有声明判断每条语句的对错"><span class="me-2">43. 下面代码中，x 已声明，y 没有声明，判断每条语句的对错。</span><a href="#43-下面代码中x-已声明y-没有声明判断每条语句的对错" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="m">1.</span> <span class="n">x</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">f</span><span class="p">()</span>
<span class="m">2.</span> <span class="n">x</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="p">()</span>
<span class="m">3.</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">:=</span> <span class="n">f</span><span class="p">()</span>
<span class="m">4.</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">f</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：错、对、对、错</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：变量的声明。</p>

<p>1.错，x 已经声明，不能使用 :=；2.对；3.对，当多值赋值时，:= 左边的变量无论声明与否都可以；4.错，y 没有声明。</p>

<h3 id="44-下面代码输出什么"><span class="me-2">44. 下面代码输出什么？</span><a href="#44-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">increaseA</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">i</span> <span class="kt">int</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">i</span><span class="o">++</span>
    <span class="p">}()</span>
    <span class="k">return</span> <span class="n">i</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">increaseB</span><span class="p">()</span> <span class="p">(</span><span class="n">r</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">r</span><span class="o">++</span>
    <span class="p">}()</span>
    <span class="k">return</span> <span class="n">r</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">increaseA</span><span class="p">())</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">increaseB</span><span class="p">())</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. 1 1</li>
  <li>B. 0 1</li>
  <li>C. 1 0</li>
  <li>D. 0 0</li>
</ul>

<p><strong>答：B</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：defer、返回值。</p>

<p>注意一下，increaseA() 的返回参数是匿名，increaseB() 是具名。关于 defer 与返回值的知识点，后面我会写篇文章详细分析，到时候可以看下文章的讲解。</p>

<h3 id="45-下面代码输出什么"><span class="me-2">45. 下面代码输出什么？</span><a href="#45-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">A</span> <span class="k">interface</span> <span class="p">{</span>
    <span class="n">ShowA</span><span class="p">()</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">B</span> <span class="k">interface</span> <span class="p">{</span>
    <span class="n">ShowB</span><span class="p">()</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">Work</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">i</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">w</span> <span class="n">Work</span><span class="p">)</span> <span class="n">ShowA</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">w</span><span class="o">.</span><span class="n">i</span> <span class="o">+</span> <span class="m">10</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">w</span> <span class="n">Work</span><span class="p">)</span> <span class="n">ShowB</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">w</span><span class="o">.</span><span class="n">i</span> <span class="o">+</span> <span class="m">20</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">a</span> <span class="n">A</span> <span class="o">=</span> <span class="n">Work</span><span class="p">{</span><span class="m">3</span><span class="p">}</span>
    <span class="n">s</span> <span class="o">:=</span> <span class="n">a</span><span class="o">.</span><span class="p">(</span><span class="n">Work</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">ShowA</span><span class="p">())</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">ShowB</span><span class="p">())</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. 13 23</li>
  <li>B. compilation error</li>
</ul>

<p><strong>答：A</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：类型断言。</p>

<h3 id="46-f1f2f3-函数分别返回什么"><span class="me-2">46. f1()、f2()、f3() 函数分别返回什么？</span><a href="#46-f1f2f3-函数分别返回什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">f1</span><span class="p">()</span> <span class="p">(</span><span class="n">r</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">r</span><span class="o">++</span>
    <span class="p">}()</span>
    <span class="k">return</span> <span class="m">0</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">f2</span><span class="p">()</span> <span class="p">(</span><span class="n">r</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">t</span> <span class="o">:=</span> <span class="m">5</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">t</span> <span class="o">+</span> <span class="m">5</span>
    <span class="p">}()</span>
    <span class="k">return</span> <span class="n">t</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">f3</span><span class="p">()</span> <span class="p">(</span><span class="n">r</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">(</span><span class="n">r</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">r</span> <span class="o">+</span> <span class="m">5</span>
    <span class="p">}(</span><span class="n">r</span><span class="p">)</span>
    <span class="k">return</span> <span class="m">1</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：1 5 1</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：<code class="language-plaintext highlighter-rouge">defer</code>函数的执行顺序。</p>

<h3 id="47-下面代码段输出什么"><span class="me-2">47. 下面代码段输出什么？</span><a href="#47-下面代码段输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">Person</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">age</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">person</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">Person</span><span class="p">{</span><span class="m">28</span><span class="p">}</span>

    <span class="c">// 1.</span>
    <span class="k">defer</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>

    <span class="c">// 2.</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">(</span><span class="n">p</span> <span class="o">*</span><span class="n">Person</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>
    <span class="p">}(</span><span class="n">person</span><span class="p">)</span>

    <span class="c">// 3.</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>
    <span class="p">}()</span>

    <span class="n">person</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="m">29</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：29 29 28</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：<code class="language-plaintext highlighter-rouge">defer</code>函数的执行顺序。</p>

<p>变量 person 是一个指针变量 。</p>

<p>1.person.age 此时是将 28 当做 defer 函数的参数，会把 28 缓存在栈中，等到最后执行该 defer 语句的时候取出，即输出 28；</p>

<p>2.defer 缓存的是结构体 Person{28} 的地址，最终 Person{28} 的 age 被重新赋值为 29，所以 defer 语句最后执行的时候，依靠缓存的地址取出的 age 便是 29，即输出 29；</p>

<p>3.闭包引用，输出 29；</p>

<p>又由于 defer 的执行顺序为先进后出，即 3 2 1，所以输出 29 29 28。</p>

<h3 id="48-下面这段代码正确的输出是什么"><span class="me-2">48. 下面这段代码正确的输出是什么？</span><a href="#48-下面这段代码正确的输出是什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">f</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">defer</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"D"</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"F"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">f</span><span class="p">()</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"M"</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. F M D</li>
  <li>B. D F M</li>
  <li>C. F D M</li>
</ul>

<p><strong>答：C</strong></p>

<p><strong>解析：</strong></p>

<p>被调用函数里的 defer 语句在返回之前就会被执行，所以输出顺序是 F D M。</p>

<h3 id="49-下面代码输出什么"><span class="me-2">49. 下面代码输出什么？</span><a href="#49-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">Person</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">age</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">person</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">Person</span><span class="p">{</span><span class="m">28</span><span class="p">}</span>

    <span class="c">// 1.</span>
    <span class="k">defer</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>

    <span class="c">// 2.</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">(</span><span class="n">p</span> <span class="o">*</span><span class="n">Person</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>
    <span class="p">}(</span><span class="n">person</span><span class="p">)</span>

    <span class="c">// 3.</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>
    <span class="p">}()</span>

    <span class="n">person</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">Person</span><span class="p">{</span><span class="m">29</span><span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：29 28 28</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：<code class="language-plaintext highlighter-rouge">defer</code>函数的执行顺序。</p>

<p>这道题在第 <code class="language-plaintext highlighter-rouge">47</code> 题目的基础上做了一点点小改动，前一题最后一行代码 <code class="language-plaintext highlighter-rouge">person.age = 29</code> 是修改引用对象的成员 age，这题最后一行代码 <code class="language-plaintext highlighter-rouge">person = &amp;Person{29}</code> 是修改引用对象本身，来看看有什么区别。</p>

<p>1 处.person.age 这一行代码跟之前含义是一样的，此时是将 28 当做 defer 函数的参数，会把 28 缓存在栈中，等到最后执行该 defer 语句的时候取出，即输出 28；</p>

<p>2 处.defer 缓存的是结构体 Person{28} 的地址，这个地址指向的结构体没有被改变，最后 defer 语句后面的函数执行的时候取出仍是 28；</p>

<p>3 处.闭包引用，person 的值已经被改变，指向结构体 <code class="language-plaintext highlighter-rouge">Person{29}</code>，所以输出 29.</p>

<p>由于 defer 的执行顺序为先进后出，即 3 2 1，所以输出 29 28 28。</p>

<h3 id="50-下面的两个切片声明中有什么区别哪个更可取"><span class="me-2">50. 下面的两个切片声明中有什么区别？哪个更可取？</span><a href="#50-下面的两个切片声明中有什么区别哪个更可取" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">A</span><span class="o">.</span> <span class="k">var</span> <span class="n">a</span> <span class="p">[]</span><span class="kt">int</span>
<span class="n">B</span><span class="o">.</span> <span class="n">a</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：29 28 28</strong></p>

<p><strong>解析：</strong></p>

<p>A 声明的是 nil 切片；B 声明的是长度和容量都为 0 的空切片。第一种切片声明不会分配内存，优先选择。</p>

<h3 id="51-abcd-哪些选项有语法错误"><span class="me-2">51. A、B、C、D 哪些选项有语法错误？</span><a href="#51-abcd-哪些选项有语法错误" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">S</span> <span class="k">struct</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span> <span class="k">interface</span><span class="p">{})</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">g</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span><span class="k">interface</span><span class="p">{})</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">s</span> <span class="o">:=</span> <span class="n">S</span><span class="p">{}</span>
    <span class="n">p</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">s</span>
    <span class="n">f</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="c">//A</span>
    <span class="n">g</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="c">//B</span>
    <span class="n">f</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="c">//C</span>
    <span class="n">g</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="c">//D</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：BD</strong></p>

<p><strong>解析：</strong></p>

<p>函数参数为 interface{} 时可以接收任何类型的参数，包括用户自定义类型等，即使是接收指针类型也用 interface{}，而不是使用 *interface{}。</p>

<h3 id="52-下面-ab-两处应该填入什么代码才能确保顺利打印出结果"><span class="me-2">52. 下面 A、B 两处应该填入什么代码，才能确保顺利打印出结果？</span><a href="#52-下面-ab-两处应该填入什么代码才能确保顺利打印出结果" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">S</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">m</span> <span class="kt">string</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">f</span><span class="p">()</span> <span class="o">*</span><span class="n">S</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">__</span>  <span class="c">//A</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">p</span> <span class="o">:=</span> <span class="n">__</span>    <span class="c">//B</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">m</span><span class="p">)</span> <span class="c">//print "foo"</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：</strong></p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">A</span><span class="o">.</span> <span class="o">&amp;</span><span class="n">S</span><span class="p">{</span><span class="s">"foo"</span><span class="p">}</span>
<span class="n">B</span><span class="o">.</span> <span class="o">*</span><span class="n">f</span><span class="p">()</span> <span class="n">或者</span> <span class="n">f</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>f() 函数返回参数是指针类型，所以可以用 &amp; 取结构体的指针；B 处，如果填<code class="language-plaintext highlighter-rouge">*f()</code>，则 p 是 S 类型；如果填 <code class="language-plaintext highlighter-rouge">f()</code>，则 p 是 *S 类型，不过都可以使用 <code class="language-plaintext highlighter-rouge">p.m</code>取得结构体的成员。</p>

<h3 id="53-下面的代码有几处语法问题各是什么"><span class="me-2">53. 下面的代码有几处语法问题，各是什么？</span><a href="#53-下面的代码有几处语法问题各是什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>
<span class="k">import</span> <span class="p">(</span>
    <span class="s">"fmt"</span>
<span class="p">)</span>
<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">x</span> <span class="kt">string</span> <span class="o">=</span> <span class="no">nil</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">x</span> <span class="o">=</span> <span class="s">"default"</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>两个地方有语法问题。golang 的字符串类型是不能赋值 nil 的，也不能跟 nil 比较。</p>

<h3 id="54-return-之后的-defer-语句会执行吗下面这段代码输出什么"><span class="me-2">54. return 之后的 defer 语句会执行吗，下面这段代码输出什么？</span><a href="#54-return-之后的-defer-语句会执行吗下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">a</span> <span class="kt">bool</span> <span class="o">=</span> <span class="no">true</span>
<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">(){</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"1"</span><span class="p">)</span>
    <span class="p">}()</span>
    <span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="no">true</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"2"</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">(){</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"3"</span><span class="p">)</span>
    <span class="p">}()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：2 1</strong></p>

<p><strong>解析：</strong></p>

<p>defer 关键字后面的函数或者方法想要执行必须先注册，return 之后的 defer 是不能注册的， 也就不能执行后面的函数或方法。</p>

<h3 id="55-下面这段代码输出什么为什么"><span class="me-2">55. 下面这段代码输出什么？为什么？</span><a href="#55-下面这段代码输出什么为什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="n">s1</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">}</span>
    <span class="n">s2</span> <span class="o">:=</span> <span class="n">s1</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="p">]</span>
    <span class="n">s2</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="o">=</span> <span class="m">4</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
    <span class="n">s2</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">s2</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">7</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">[</span>1 2 4]
<span class="o">[</span>1 2 4]
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>我们知道，golang 中切片底层的数据结构是数组。当使用 s1[1:] 获得切片 s2，和 s1 共享同一个底层数组，这会导致 s2[1] = 4 语句影响 s1。</p>

<p>而 append 操作会导致底层数组扩容，生成新的数组，因此追加数据后的 s2 不会影响 s1。</p>

<p>但是为什么对 s2 赋值后影响的却是 s1 的第三个元素呢？这是因为切片 s2 是从数组的第二个元素开始，s2 索引为 1 的元素对应的是 s1 索引为 2 的元素。</p>

<p><a href="https://cc360428.github.io/assets/img/language/golang/other/golang_interview_array_one.png" class="popup img-link  shimmer"><img src="https://cc360428.github.io/assets/img/language/golang/other/golang_interview_array_one.png" alt="golang" loading="lazy"></a></p>

<h3 id="56-下面选项正确的是"><span class="me-2">56. 下面选项正确的是？</span><a href="#56-下面选项正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">a</span> <span class="o">:=</span> <span class="m">1</span><span class="p">;</span> <span class="no">false</span> <span class="p">{</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">b</span> <span class="o">:=</span> <span class="m">2</span><span class="p">;</span> <span class="no">false</span> <span class="p">{</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nb">println</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. 1 2</li>
  <li>B. compilation error</li>
</ul>

<p><strong>答：A</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：代码块和变量作用域。</p>

<h3 id="57-下面这段代码输出什么"><span class="me-2">57. 下面这段代码输出什么？</span><a href="#57-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">m</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="m">0</span><span class="o">:</span><span class="s">"zero"</span><span class="p">,</span><span class="m">1</span><span class="o">:</span><span class="s">"one"</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">m</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>0 zero
1 one
// 或者
1 one
0 zero
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>map 的输出是无序的。</p>

<h3 id="58-下面这段代码输出什么"><span class="me-2">58. 下面这段代码输出什么？</span><a href="#58-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">a</span> <span class="o">:=</span> <span class="m">1</span>
    <span class="n">b</span> <span class="o">:=</span> <span class="m">2</span>
    <span class="k">defer</span> <span class="n">calc</span><span class="p">(</span><span class="s">"1"</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">calc</span><span class="p">(</span><span class="s">"10"</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
    <span class="n">a</span> <span class="o">=</span> <span class="m">0</span>
    <span class="k">defer</span> <span class="n">calc</span><span class="p">(</span><span class="s">"2"</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">calc</span><span class="p">(</span><span class="s">"20"</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
    <span class="n">b</span> <span class="o">=</span> <span class="m">1</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">calc</span><span class="p">(</span><span class="n">index</span> <span class="kt">string</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="n">ret</span> <span class="o">:=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">ret</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ret</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>10 1 2 3
20 0 2 2
2 0 2 2
1 1 3 4
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>程序执行到 main() 函数三行代码的时候，会先执行 calc() 函数的 b 参数，即：<code class="language-plaintext highlighter-rouge">calc("10",a,b)</code>，输出：10 1 2 3，得到值 3，因为
defer 定义的函数是延迟函数，故 calc(“1”,1,3) 会被延迟执行；</p>

<p>程序执行到第五行的时候，同样先执行 calc(“20”,a,b) 输出：20 0 2 2 得到值 2，同样将 calc(“2”,0,2) 延迟执行；</p>

<p>程序执行到末尾的时候，按照栈先进后出的方式依次执行：calc(“2”,0,2)，calc(“1”,1,3)，则就依次输出：2 0 2 2，1 1 3 4。</p>

<h3 id="59-下面这段代码输出什么为什么"><span class="me-2">59. 下面这段代码输出什么？为什么？</span><a href="#59-下面这段代码输出什么为什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="p">(</span><span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="n">PrintInt</span> <span class="p">()</span>  <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">i</span> <span class="kt">int</span> <span class="o">=</span> <span class="m">1</span>
    <span class="n">i</span><span class="o">.</span><span class="n">PrintInt</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. 1</li>
  <li>B. compilation error</li>
</ul>

<p><strong>答：B</strong></p>

<p><strong>解析：</strong></p>

<p><strong>基于类型创建的方法必须定义在同一个包内</strong>，上面的代码基于 int 类型创建了 PrintInt() 方法，由于 int 类型和方法 PrintInt() 定义在不同的包内，所以编译出错。</p>

<p>解决的办法可以定义一种新的类型：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">Myint</span> <span class="kt">int</span>

<span class="k">func</span> <span class="p">(</span><span class="n">i</span> <span class="n">Myint</span><span class="p">)</span> <span class="n">PrintInt</span> <span class="p">()</span>  <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">i</span> <span class="n">Myint</span> <span class="o">=</span> <span class="m">1</span>
    <span class="n">i</span><span class="o">.</span><span class="n">PrintInt</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="60-下面这段代码输出什么为什么"><span class="me-2">60. 下面这段代码输出什么？为什么？</span><a href="#60-下面这段代码输出什么为什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">People</span> <span class="k">interface</span> <span class="p">{</span>
    <span class="n">Speak</span><span class="p">(</span><span class="kt">string</span><span class="p">)</span> <span class="kt">string</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">Student</span> <span class="k">struct</span><span class="p">{}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">stu</span> <span class="o">*</span><span class="n">Student</span><span class="p">)</span> <span class="n">Speak</span><span class="p">(</span><span class="n">think</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">talk</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">think</span> <span class="o">==</span> <span class="s">"speak"</span> <span class="p">{</span>
        <span class="n">talk</span> <span class="o">=</span> <span class="s">"speak"</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">talk</span> <span class="o">=</span> <span class="s">"hi"</span>
    <span class="p">}</span>
    <span class="k">return</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">peo</span> <span class="n">People</span> <span class="o">=</span> <span class="n">Student</span><span class="p">{}</span>
    <span class="n">think</span> <span class="o">:=</span> <span class="s">"speak"</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">peo</span><span class="o">.</span><span class="n">Speak</span><span class="p">(</span><span class="n">think</span><span class="p">))</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. speak</li>
  <li>B. compilation error</li>
</ul>

<p><strong>答：B</strong></p>

<p><strong>解析：</strong></p>

<p>编译错误 <code class="language-plaintext highlighter-rouge">Student does not implement People (Speak method has pointer receiver)</code>，值类型 <code class="language-plaintext highlighter-rouge">Student</code> 没有实现接口的 <code class="language-plaintext highlighter-rouge">Speak()</code> 方法，而是指针类型 <code class="language-plaintext highlighter-rouge">*Student</code> 实现该方法。</p>

<h2 id="6190"><span class="me-2">61~90</span><a href="#6190" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="61-下面这段代码输出什么"><span class="me-2">61. 下面这段代码输出什么？</span><a href="#61-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="k">const</span> <span class="p">(</span>
    <span class="n">a</span> <span class="o">=</span> <span class="no">iota</span>
    <span class="n">b</span> <span class="o">=</span> <span class="no">iota</span>
<span class="p">)</span>
<span class="k">const</span> <span class="p">(</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">"name"</span>
    <span class="n">c</span>    <span class="o">=</span> <span class="no">iota</span>
    <span class="n">d</span>    <span class="o">=</span> <span class="no">iota</span>
<span class="p">)</span>
<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：0 1 1 2</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：iota 的用法。</p>

<p>iota 是 golang 语言的常量计数器，只能在常量的表达式中使用。</p>

<p>iota 在 const 关键字出现时将被重置为 0，const 中每新增一行常量声明将使 iota 计数一次。</p>

<h3 id="62-下面这段代码输出什么为什么"><span class="me-2">62. 下面这段代码输出什么？为什么？</span><a href="#62-下面这段代码输出什么为什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">People</span> <span class="k">interface</span> <span class="p">{</span>
    <span class="n">Show</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">Student</span> <span class="k">struct</span><span class="p">{}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">stu</span> <span class="o">*</span><span class="n">Student</span><span class="p">)</span> <span class="n">Show</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">var</span> <span class="n">s</span> <span class="o">*</span><span class="n">Student</span>
    <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"s is nil"</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"s is not nil"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">var</span> <span class="n">p</span> <span class="n">People</span> <span class="o">=</span> <span class="n">s</span>
    <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"p is nil"</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"p is not nil"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：<code class="language-plaintext highlighter-rouge">s is nil</code> 和 <code class="language-plaintext highlighter-rouge">p is not nil</code></strong></p>

<p><strong>解析：</strong></p>

<p>这道题会不会有点诧异，我们分配给变量 p 的值明明是 nil，然而 p 却不是 nil。记住一点，<strong>当且仅当动态值和动态类型都为 nil 时，接口类型值才为 nil</strong>。上面的代码，给变量 p 赋值之后，p 的动态值是 nil，但是动态类型却是 *Student，是一个 nil 指针，所以相等条件不成立。</p>

<h3 id="63-下面这段代码输出什么"><span class="me-2">63. 下面这段代码输出什么？</span><a href="#63-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">Direction</span> <span class="kt">int</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">North</span> <span class="n">Direction</span> <span class="o">=</span> <span class="no">iota</span>
    <span class="n">East</span>
    <span class="n">South</span>
    <span class="n">West</span>
<span class="p">)</span>

<span class="k">func</span> <span class="p">(</span><span class="n">d</span> <span class="n">Direction</span><span class="p">)</span> <span class="n">String</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="s">"North"</span><span class="p">,</span> <span class="s">"East"</span><span class="p">,</span> <span class="s">"South"</span><span class="p">,</span> <span class="s">"West"</span><span class="p">}[</span><span class="n">d</span><span class="p">]</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">South</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：South</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：iota 的用法、类型的 String() 方法。</p>

<h3 id="64-下面代码输出什么"><span class="me-2">64. 下面代码输出什么？</span><a href="#64-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">Math</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">var</span> <span class="n">m</span> <span class="o">=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="n">Math</span><span class="p">{</span>
    <span class="s">"foo"</span><span class="o">:</span> <span class="n">Math</span><span class="p">{</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">},</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">m</span><span class="p">[</span><span class="s">"foo"</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="m">4</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="s">"foo"</span><span class="p">]</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. 4</li>
  <li>B. compilation error</li>
</ul>

<p><strong>答：B</strong></p>

<p><strong>解析：</strong></p>

<p>编译报错 <code class="language-plaintext highlighter-rouge">cannot assign to struct field m["foo"].x in map</code>。错误原因：对于类似 <code class="language-plaintext highlighter-rouge">X = Y</code>的赋值操作，必须知道 <code class="language-plaintext highlighter-rouge">X</code> 的地址，才能够将 <code class="language-plaintext highlighter-rouge">Y</code> 的值赋给 <code class="language-plaintext highlighter-rouge">X</code>，但 go 中的 map 的 value 本身是不可寻址的。</p>

<p>有两个解决办法：</p>

<ol>
  <li>
    <p><strong>使用临时变量</strong></p>

    <div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">Math</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">var</span> <span class="n">m</span> <span class="o">=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="n">Math</span><span class="p">{</span>
    <span class="s">"foo"</span><span class="o">:</span> <span class="n">Math</span><span class="p">{</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">},</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">tmp</span> <span class="o">:=</span> <span class="n">m</span><span class="p">[</span><span class="s">"foo"</span><span class="p">]</span>
    <span class="n">tmp</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="m">4</span>
    <span class="n">m</span><span class="p">[</span><span class="s">"foo"</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="s">"foo"</span><span class="p">]</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p><strong>修改数据结构</strong></p>

    <div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">Math</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">var</span> <span class="n">m</span> <span class="o">=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="o">*</span><span class="n">Math</span><span class="p">{</span>
    <span class="s">"foo"</span><span class="o">:</span> <span class="o">&amp;</span><span class="n">Math</span><span class="p">{</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">},</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">m</span><span class="p">[</span><span class="s">"foo"</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="m">4</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="s">"foo"</span><span class="p">]</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%#v"</span><span class="p">,</span> <span class="n">m</span><span class="p">[</span><span class="s">"foo"</span><span class="p">])</span>   <span class="c">// %#v 格式化输出详细信息</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
</ol>

<h3 id="65-下面的代码有什么问题"><span class="me-2">65. 下面的代码有什么问题？</span><a href="#65-下面的代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">([</span><span class="o">...</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">}</span> <span class="o">==</span> <span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">})</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">([]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">}</span> <span class="o">==</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">})</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：有两处错误</strong></p>

<p><strong>解析：</strong></p>

<ul>
  <li>go 中不同类型是不能比较的，而数组长度是数组类型的一部分，所以 <code class="language-plaintext highlighter-rouge">[…]int{1}</code> 和 <code class="language-plaintext highlighter-rouge">[2]int{1}</code> 是两种不同的类型，不能比较；</li>
  <li>切片是不能比较的；</li>
</ul>

<h3 id="66-下面这段代码输出什么如果编译错误的话为什么"><span class="me-2">66. 下面这段代码输出什么？如果编译错误的话，为什么？</span><a href="#66-下面这段代码输出什么如果编译错误的话为什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">p</span> <span class="o">*</span><span class="kt">int</span>

<span class="k">func</span> <span class="n">foo</span><span class="p">()</span> <span class="p">(</span><span class="o">*</span><span class="kt">int</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">i</span> <span class="kt">int</span> <span class="o">=</span> <span class="m">5</span>
    <span class="k">return</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">,</span> <span class="no">nil</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="c">//use p</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">p</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">foo</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="n">bar</span><span class="p">()</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. 5 5</li>
  <li>B. runtime error</li>
</ul>

<p><strong>答：B</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：变量作用域。</p>

<p>问题出在操作符<code class="language-plaintext highlighter-rouge">:=</code>，对于使用<code class="language-plaintext highlighter-rouge">:=</code>定义的变量，如果新变量与同名已定义的变量不在同一个作用域中，那么 Go 会新定义这个变量。对于本例来说，main() 函数里的 p 是新定义的变量，会遮住全局变量 p，导致执行到<code class="language-plaintext highlighter-rouge">bar()</code>时程序，全局变量 p 依然还是 nil，程序随即 Crash。</p>

<p>正确的做法是将 main() 函数修改为：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">err</span> <span class="kt">error</span>
    <span class="n">p</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">foo</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="n">bar</span><span class="p">()</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="67-下面这段代码能否正常结束"><span class="me-2">67. 下面这段代码能否正常结束？</span><a href="#67-下面这段代码能否正常结束" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">v</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">v</span> <span class="p">{</span>
        <span class="n">v</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：不会出现死循环，能正常结束</strong></p>

<p><strong>解析：</strong></p>

<p>循环次数在循环开始前就已经确定，循环内改变切片的长度，不影响循环次数。</p>

<h3 id="68-下面这段代码输出什么为什么"><span class="me-2">68. 下面这段代码输出什么？为什么？</span><a href="#68-下面这段代码输出什么为什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">var</span> <span class="n">m</span> <span class="o">=</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">}</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">m</span> <span class="p">{</span>
        <span class="k">go</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="p">}()</span>
    <span class="p">}</span>

    <span class="n">time</span><span class="o">.</span><span class="n">Sleep</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">3</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>2 3
2 3
2 3
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>for range 使用短变量声明(:=)的形式迭代变量，需要注意的是，变量 i、v 在每次循环体中都会被重用，而不是重新声明。</p>

<p>各个 goroutine 中输出的 i、v 值都是 for range 循环结束后的 i、v 最终值，而不是各个 goroutine 启动时的 i, v 值。可以理解为闭包引用，使用的是上下文环境的值。</p>

<p>两种可行的 fix 方法:</p>

<ol>
  <li>
    <p><strong>使用函数传递</strong></p>

    <div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">m</span> <span class="p">{</span>
    <span class="k">go</span> <span class="k">func</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">v</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="p">}(</span><span class="n">i</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p><strong>使用临时变量保留当前值</strong></p>

    <div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">m</span> <span class="p">{</span>
    <span class="n">i</span> <span class="o">:=</span> <span class="n">i</span>           <span class="c">// 这里的 := 会重新声明变量，而不是重用</span>
    <span class="n">v</span> <span class="o">:=</span> <span class="n">v</span>
    <span class="k">go</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="p">}()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
</ol>

<h3 id="69-下面这段代码输出什么"><span class="me-2">69. 下面这段代码输出什么？</span><a href="#69-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="n">r</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">r</span> <span class="o">+=</span> <span class="n">n</span>
        <span class="nb">recover</span><span class="p">()</span>
    <span class="p">}()</span>

    <span class="k">var</span> <span class="n">f</span> <span class="k">func</span><span class="p">()</span>

    <span class="k">defer</span> <span class="n">f</span><span class="p">()</span>
    <span class="n">f</span> <span class="o">=</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">r</span> <span class="o">+=</span> <span class="m">2</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">n</span> <span class="o">+</span> <span class="m">1</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="m">3</span><span class="p">))</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：7</strong></p>

<p><strong>解析：</strong></p>

<p>第一步执行<code class="language-plaintext highlighter-rouge">r = n +1</code>，接着执行第二个 defer，由于此时 f() 未定义，引发异常，随即执行第一个 defer，异常被 recover()，程序正常执行，最后 return。</p>

<h3 id="70-下面这段代码输出什么"><span class="me-2">70. 下面这段代码输出什么？</span><a href="#70-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="m">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">}</span>
    <span class="k">var</span> <span class="n">r</span> <span class="p">[</span><span class="m">5</span><span class="p">]</span><span class="kt">int</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">a</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
            <span class="n">a</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="o">=</span> <span class="m">12</span>
            <span class="n">a</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="o">=</span> <span class="m">13</span>
        <span class="p">}</span>
        <span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"r = "</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"a = "</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>r <span class="o">=</span>  <span class="o">[</span>1 2 3 4 5]
a <span class="o">=</span>  <span class="o">[</span>1 12 13 4 5]
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>range 表达式是副本参与循环，就是说例子中参与循环的是 a 的副本，而不是真正的 a。就这个例子来说，假设 b 是 a 的副本，则 range 循环代码是这样的：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">b</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
        <span class="n">a</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="o">=</span> <span class="m">12</span>
        <span class="n">a</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="o">=</span> <span class="m">13</span>
    <span class="p">}</span>
    <span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>因此无论 a 被如何修改，其副本 b 依旧保持原值，并且参与循环的是 b，因此 v 从 b 中取出的仍旧是 a 的原值，而非修改后的值。</p>

<p>如果想要 r 和 a 一样输出，修复办法：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="m">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">}</span>
    <span class="k">var</span> <span class="n">r</span> <span class="p">[</span><span class="m">5</span><span class="p">]</span><span class="kt">int</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="o">&amp;</span><span class="n">a</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
            <span class="n">a</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="o">=</span> <span class="m">12</span>
            <span class="n">a</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="o">=</span> <span class="m">13</span>
        <span class="p">}</span>
        <span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"r = "</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"a = "</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>输出：</p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>r <span class="o">=</span>  <span class="o">[</span>1 12 13 4 5]
a <span class="o">=</span>  <span class="o">[</span>1 12 13 4 5]
</pre></td></tr></tbody></table></code></div></div>

<p>修复代码中，使用 *[5]int 作为 range 表达式，其副本依旧是一个指向原数组 a 的指针，因此后续所有循环中均是 &amp;a 指向的原数组亲自参与的，因此 v 能从 &amp;a 指向的原数组中取出 a 修改后的值。</p>

<h3 id="71-下面这段代码输出什么"><span class="me-2">71. 下面这段代码输出什么？</span><a href="#71-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">change</span><span class="p">(</span><span class="n">s</span> <span class="o">...</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="m">3</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">slice</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">5</span><span class="p">)</span>
    <span class="n">slice</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">=</span> <span class="m">1</span>
    <span class="n">slice</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="o">=</span> <span class="m">2</span>
    <span class="n">change</span><span class="p">(</span><span class="n">slice</span><span class="o">...</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">slice</span><span class="p">)</span>
    <span class="n">change</span><span class="p">(</span><span class="n">slice</span><span class="p">[</span><span class="m">0</span><span class="o">:</span><span class="m">2</span><span class="p">]</span><span class="o">...</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">slice</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">[</span>1 2 0 0 0]
<span class="o">[</span>1 2 3 0 0]
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>知识点：可变函数、append()操作。</p>

<p>Go 提供的语法糖<code class="language-plaintext highlighter-rouge">...</code>，可以将 slice 传进可变函数，不会创建新的切片。第一次调用 change() 时，append() 操作使切片底层数组发生了扩容，原 slice 的底层数组不会改变；第二次调用 change() 函数时，使用了操作符<code class="language-plaintext highlighter-rouge">[i,j]</code>获得一个新的切片，假定为 slice1，它的底层数组和原切片底层数组是重合的，不过 slice1 的长度、容量分别是 2、5，所以在 change() 函数中对 slice1 底层数组的修改会影响到原切片。</p>

<p><a href="https://cc360428.github.io/assets/img/language/golang/other/golang_interview_array.png" class="popup img-link  shimmer"><img src="https://cc360428.github.io/assets/img/language/golang/other/golang_interview_array.png" alt="golang" loading="lazy"></a></p>

<h3 id="72-下面这段代码输出什么"><span class="me-2">72. 下面这段代码输出什么？</span><a href="#72-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">a</span> <span class="o">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">}</span>
    <span class="k">var</span> <span class="n">r</span> <span class="p">[</span><span class="m">5</span><span class="p">]</span><span class="kt">int</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">a</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
            <span class="n">a</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="o">=</span> <span class="m">12</span>
            <span class="n">a</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="o">=</span> <span class="m">13</span>
        <span class="p">}</span>
        <span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"r = "</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"a = "</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>r <span class="o">=</span>  <span class="o">[</span>1 12 13 4 5]
a <span class="o">=</span>  <span class="o">[</span>1 12 13 4 5]
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>切片在 go 的内部结构有一个指向底层数组的指针，当 range 表达式发生复制时，副本的指针依旧指向原底层数组，所以对切片的修改都会反应到底层数组上，所以通过 v 可以获得修改后的数组元素。</p>

<h3 id="73-下面这段代码输出结果正确正确吗"><span class="me-2">73. 下面这段代码输出结果正确正确吗？</span><a href="#73-下面这段代码输出结果正确正确吗" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">Foo</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">bar</span> <span class="kt">string</span>
<span class="p">}</span>
<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">s1</span> <span class="o">:=</span> <span class="p">[]</span><span class="n">Foo</span><span class="p">{</span>
        <span class="p">{</span><span class="s">"A"</span><span class="p">},</span>
        <span class="p">{</span><span class="s">"B"</span><span class="p">},</span>
        <span class="p">{</span><span class="s">"C"</span><span class="p">},</span>
    <span class="p">}</span>
    <span class="n">s2</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="o">*</span><span class="n">Foo</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">value</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">s1</span> <span class="p">{</span>
        <span class="n">s2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">value</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s1</span><span class="p">[</span><span class="m">0</span><span class="p">],</span> <span class="n">s1</span><span class="p">[</span><span class="m">1</span><span class="p">],</span> <span class="n">s1</span><span class="p">[</span><span class="m">2</span><span class="p">])</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s2</span><span class="p">[</span><span class="m">0</span><span class="p">],</span> <span class="n">s2</span><span class="p">[</span><span class="m">1</span><span class="p">],</span> <span class="n">s2</span><span class="p">[</span><span class="m">2</span><span class="p">])</span>
<span class="p">}</span>
<span class="n">输出</span><span class="err">：</span>
<span class="p">{</span><span class="n">A</span><span class="p">}</span> <span class="p">{</span><span class="n">B</span><span class="p">}</span> <span class="p">{</span><span class="n">C</span><span class="p">}</span>
<span class="o">&amp;</span><span class="p">{</span><span class="n">A</span><span class="p">}</span> <span class="o">&amp;</span><span class="p">{</span><span class="n">B</span><span class="p">}</span> <span class="o">&amp;</span><span class="p">{</span><span class="n">C</span><span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：s2 的输出结果错误</strong></p>

<p><strong>解析：</strong></p>

<p>s2 的输出是 <code class="language-plaintext highlighter-rouge">&amp;{C} &amp;{C} &amp;{C}</code>，for range 使用短变量声明(:=)的形式迭代变量时，变量 i、value 在每次循环体中都会被重用，而不是重新声明。所以 s2 每次填充的都是临时变量 value 的地址，而在最后一次循环中，value 被赋值为{c}。因此，s2 输出的时候显示出了三个 &amp;{c}。</p>

<p>可行的解决办法如下：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">s1</span> <span class="p">{</span>
    <span class="n">s2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">s1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="74-下面代码里的-counter-的输出值"><span class="me-2">74. 下面代码里的 counter 的输出值？</span><a href="#74-下面代码里的-counter-的输出值" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">var</span> <span class="n">m</span> <span class="o">=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span>
        <span class="s">"A"</span><span class="o">:</span> <span class="m">21</span><span class="p">,</span>
        <span class="s">"B"</span><span class="o">:</span> <span class="m">22</span><span class="p">,</span>
        <span class="s">"C"</span><span class="o">:</span> <span class="m">23</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">counter</span> <span class="o">:=</span> <span class="m">0</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">m</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">counter</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
            <span class="nb">delete</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="s">"A"</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="n">counter</span><span class="o">++</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"counter is "</span><span class="p">,</span> <span class="n">counter</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. 2</li>
  <li>B. 3</li>
  <li>C. 2 或 3</li>
</ul>

<p><strong>答：C</strong></p>

<p><strong>解析：</strong></p>

<p>for range map 是无序的，如果第一次循环到 A，则输出 3；否则输出 2。</p>

<h3 id="75-关于协程下面说法正确是"><span class="me-2">75. 关于协程，下面说法正确是（）</span><a href="#75-关于协程下面说法正确是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. 协程和线程都可以实现程序的并发执行；</li>
  <li>B. 线程比协程更轻量级；</li>
  <li>C. 协程不存在死锁问题；</li>
  <li>D. 通过 channel 来进行协程间的通信；</li>
</ul>

<p><strong>答：A D</strong></p>

<h3 id="76-关于循环语句下面说法正确的有"><span class="me-2">76. 关于循环语句，下面说法正确的有（）</span><a href="#76-关于循环语句下面说法正确的有" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. 循环语句既支持 for 关键字，也支持 while 和 do-while；</li>
  <li>B. 关键字 for 的基本使用方法与 C/C++ 中没有任何差异；</li>
  <li>C. for 循环支持 continue 和 break 来控制循环，但是它提供了一个更高级的 break，可以选择中断哪一个循环；</li>
  <li>D. for 循环不支持以逗号为间隔的多个赋值语句，必须使用平行赋值的方式来初始化多个变量；</li>
</ul>

<p><strong>答：C D</strong></p>

<h3 id="77-下面代码输出正确的是"><span class="me-2">77. 下面代码输出正确的是？</span><a href="#77-下面代码输出正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">i</span> <span class="o">:=</span> <span class="m">1</span>
    <span class="n">s</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"A"</span><span class="p">,</span> <span class="s">"B"</span><span class="p">,</span> <span class="s">"C"</span><span class="p">}</span>
    <span class="n">i</span><span class="p">,</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="m">1</span><span class="p">]</span> <span class="o">=</span> <span class="m">2</span><span class="p">,</span> <span class="s">"Z"</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"s: %v </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. s: [Z,B,C]</li>
  <li>B. s: [A,Z,C]</li>
</ul>

<p><strong>答：A</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：多重赋值。</p>

<p>多重赋值分为两个步骤，有先后顺序：</p>

<ul>
  <li>计算等号左边的索引表达式和取址表达式，接着计算等号右边的表达式；</li>
  <li>赋值；</li>
</ul>

<p>所以本例，会先计算 s[i-1]，等号右边是两个表达式是常量，所以赋值运算等同于 <code class="language-plaintext highlighter-rouge">i, s[0] = 2, "Z"</code>。</p>

<h3 id="78-关于类型转化下面选项正确的是"><span class="me-2">78. 关于类型转化，下面选项正确的是？</span><a href="#78-关于类型转化下面选项正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="n">A</span><span class="o">.</span>
<span class="k">type</span> <span class="n">MyInt</span> <span class="kt">int</span>
<span class="k">var</span> <span class="n">i</span> <span class="kt">int</span> <span class="o">=</span> <span class="m">1</span>
<span class="k">var</span> <span class="n">j</span> <span class="n">MyInt</span> <span class="o">=</span> <span class="n">i</span>

<span class="n">B</span><span class="o">.</span>
<span class="k">type</span> <span class="n">MyInt</span> <span class="kt">int</span>
<span class="k">var</span> <span class="n">i</span> <span class="kt">int</span> <span class="o">=</span> <span class="m">1</span>
<span class="k">var</span> <span class="n">j</span> <span class="n">MyInt</span> <span class="o">=</span> <span class="p">(</span><span class="n">MyInt</span><span class="p">)</span><span class="n">i</span>

<span class="n">C</span><span class="o">.</span>
<span class="k">type</span> <span class="n">MyInt</span> <span class="kt">int</span>
<span class="k">var</span> <span class="n">i</span> <span class="kt">int</span> <span class="o">=</span> <span class="m">1</span>
<span class="k">var</span> <span class="n">j</span> <span class="n">MyInt</span> <span class="o">=</span> <span class="n">MyInt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">D</span><span class="o">.</span>
<span class="k">type</span> <span class="n">MyInt</span> <span class="kt">int</span>
<span class="k">var</span> <span class="n">i</span> <span class="kt">int</span> <span class="o">=</span> <span class="m">1</span>
<span class="k">var</span> <span class="n">j</span> <span class="n">MyInt</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="p">(</span><span class="n">MyInt</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：C</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：强制类型转化</p>

<h3 id="79-关于-switch-语句下面说法正确的有"><span class="me-2">79. 关于 switch 语句，下面说法正确的有?</span><a href="#79-关于-switch-语句下面说法正确的有" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. 条件表达式必须为常量或者整数；</li>
  <li>B. 单个 case 中，可以出现多个结果选项；</li>
  <li>C. 需要用 break 来明确退出一个 case；</li>
  <li>D. 只有在 case 中明确添加 fallthrough 关键字，才会继续执行紧跟的下一个 case；</li>
</ul>

<p><strong>答：B D</strong></p>

<h3 id="80-如果-add-函数的调用代码为"><span class="me-2">80. 如果 Add() 函数的调用代码为：</span><a href="#80-如果-add-函数的调用代码为" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">a</span> <span class="n">Integer</span> <span class="o">=</span> <span class="m">1</span>
    <span class="k">var</span> <span class="n">b</span> <span class="n">Integer</span> <span class="o">=</span> <span class="m">2</span>
    <span class="k">var</span> <span class="n">i</span> <span class="k">interface</span><span class="p">{}</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span>
    <span class="n">sum</span> <span class="o">:=</span> <span class="n">i</span><span class="o">.</span><span class="p">(</span><span class="o">*</span><span class="n">Integer</span><span class="p">)</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">sum</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>则 Add 函数定义正确的是()</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="n">A</span><span class="o">.</span>
<span class="k">type</span> <span class="n">Integer</span> <span class="kt">int</span>
<span class="k">func</span> <span class="p">(</span><span class="n">a</span> <span class="n">Integer</span><span class="p">)</span> <span class="n">Add</span><span class="p">(</span><span class="n">b</span> <span class="n">Integer</span><span class="p">)</span> <span class="n">Integer</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="p">}</span>

<span class="n">B</span><span class="o">.</span>
<span class="k">type</span> <span class="n">Integer</span> <span class="kt">int</span>
<span class="k">func</span> <span class="p">(</span><span class="n">a</span> <span class="n">Integer</span><span class="p">)</span> <span class="n">Add</span><span class="p">(</span><span class="n">b</span> <span class="o">*</span><span class="n">Integer</span><span class="p">)</span> <span class="n">Integer</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="o">*</span><span class="n">b</span>
<span class="p">}</span>

<span class="n">C</span><span class="o">.</span>
<span class="k">type</span> <span class="n">Integer</span> <span class="kt">int</span>
<span class="k">func</span> <span class="p">(</span><span class="n">a</span> <span class="o">*</span><span class="n">Integer</span><span class="p">)</span> <span class="n">Add</span><span class="p">(</span><span class="n">b</span> <span class="n">Integer</span><span class="p">)</span> <span class="n">Integer</span> <span class="p">{</span>
        <span class="k">return</span> <span class="o">*</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="p">}</span>

<span class="n">D</span><span class="o">.</span>
<span class="k">type</span> <span class="n">Integer</span> <span class="kt">int</span>
<span class="k">func</span> <span class="p">(</span><span class="n">a</span> <span class="o">*</span><span class="n">Integer</span><span class="p">)</span> <span class="n">Add</span><span class="p">(</span><span class="n">b</span> <span class="o">*</span><span class="n">Integer</span><span class="p">)</span> <span class="n">Integer</span> <span class="p">{</span>
        <span class="k">return</span> <span class="o">*</span><span class="n">a</span> <span class="o">+</span> <span class="o">*</span><span class="n">b</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：A C</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：类型断言、方法集。</p>

<h3 id="81-关于-bool-变量-b-的赋值下面错误的用法是"><span class="me-2">81. 关于 bool 变量 b 的赋值，下面错误的用法是？</span><a href="#81-关于-bool-变量-b-的赋值下面错误的用法是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. b = true</li>
  <li>B. b = 1</li>
  <li>C. b = bool(1)</li>
  <li>D. b = (1 == 2)</li>
</ul>

<p><strong>答：B C</strong></p>

<h3 id="82-关于变量的自增和自减操作下面语句正确的是"><span class="me-2">82. 关于变量的自增和自减操作，下面语句正确的是？</span><a href="#82-关于变量的自增和自减操作下面语句正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="n">A</span><span class="o">.</span>
<span class="n">i</span> <span class="o">:=</span> <span class="m">1</span>
<span class="n">i</span><span class="o">++</span>

<span class="n">B</span><span class="o">.</span>
<span class="n">i</span> <span class="o">:=</span> <span class="m">1</span>
<span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">++</span>

<span class="n">C</span><span class="o">.</span>
<span class="n">i</span> <span class="o">:=</span> <span class="m">1</span>
<span class="o">++</span><span class="n">i</span>

<span class="n">D</span><span class="o">.</span>
<span class="n">i</span> <span class="o">:=</span> <span class="m">1</span>
<span class="n">i</span><span class="o">--</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：A D</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：自增自减操作。</p>

<p>i++ 和 i– 在 Go 语言中是语句，不是表达式，因此不能赋值给另外的变量。此外没有 ++i 和 –i。</p>

<h3 id="83-关于-getpodaction-定义下面赋值正确的是"><span class="me-2">83. 关于 GetPodAction 定义，下面赋值正确的是</span><a href="#83-关于-getpodaction-定义下面赋值正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">Fragment</span> <span class="k">interface</span> <span class="p">{</span>
        <span class="n">Exec</span><span class="p">(</span><span class="n">transInfo</span> <span class="o">*</span><span class="n">TransInfo</span><span class="p">)</span> <span class="kt">error</span>
<span class="p">}</span>
<span class="k">type</span> <span class="n">GetPodAction</span> <span class="k">struct</span> <span class="p">{</span>
<span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">g</span> <span class="n">GetPodAction</span><span class="p">)</span> <span class="n">Exec</span><span class="p">(</span><span class="n">transInfo</span> <span class="o">*</span><span class="n">TransInfo</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
        <span class="o">...</span>
        <span class="k">return</span> <span class="no">nil</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. var fragment Fragment = new(GetPodAction)</li>
  <li>B. var fragment Fragment = GetPodAction</li>
  <li>C. var fragment Fragment = &amp;GetPodAction{}</li>
  <li>D. var fragment Fragment = GetPodAction{}</li>
</ul>

<p><strong>答：A C D</strong></p>

<h3 id="84-关于函数声明下面语法正确的是"><span class="me-2">84. 关于函数声明，下面语法正确的是？</span><a href="#84-关于函数声明下面语法正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. func f(a, b int) (value int, err error)</li>
  <li>B. func f(a int, b int) (value int, err error)</li>
  <li>C. func f(a, b int) (value int, error)</li>
  <li>D. func f(a int, b int) (int, int, error)</li>
</ul>

<p><strong>答：A B D</strong></p>

<h3 id="85-关于整型切片的初始化下面正确的是"><span class="me-2">85. 关于整型切片的初始化，下面正确的是？</span><a href="#85-关于整型切片的初始化下面正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. s := make([]int)</li>
  <li>B. s := make([]int, 0)</li>
  <li>C. s := make([]int, 5, 10)</li>
  <li>D. s := []int{1, 2, 3, 4, 5}</li>
</ul>

<p><strong>答：B C D</strong></p>

<h3 id="86-下面代码会触发异常吗请说明"><span class="me-2">86. 下面代码会触发异常吗？请说明。</span><a href="#86-下面代码会触发异常吗请说明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">runtime</span><span class="o">.</span><span class="n">GOMAXPROCS</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
    <span class="n">int_chan</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">int</span><span class="p">,</span> <span class="m">1</span><span class="p">)</span>
    <span class="n">string_chan</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">string</span><span class="p">,</span> <span class="m">1</span><span class="p">)</span>
    <span class="n">int_chan</span> <span class="o">&lt;-</span> <span class="m">1</span>
    <span class="n">string_chan</span> <span class="o">&lt;-</span> <span class="s">"hello"</span>
    <span class="k">select</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">value</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="n">int_chan</span><span class="o">:</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">case</span> <span class="n">value</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="n">string_chan</span><span class="o">:</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p><code class="language-plaintext highlighter-rouge">select</code> 会随机选择一个可用通道做收发操作，所以可能触发异常，也可能不会。</p>

<h3 id="87-关于-channel-的特性下面说法正确的是"><span class="me-2">87. 关于 channel 的特性，下面说法正确的是？</span><a href="#87-关于-channel-的特性下面说法正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. 给一个 nil channel 发送数据，造成永远阻塞</li>
  <li>B. 从一个 nil channel 接收数据，造成永远阻塞</li>
  <li>C. 给一个已经关闭的 channel 发送数据，引起 panic</li>
  <li>D. 从一个已经关闭的 channel 接收数据，如果缓冲区中为空，则返回一个零值</li>
</ul>

<p><strong>答：A B C D</strong></p>

<h3 id="88-下面代码有什么问题"><span class="me-2">88. 下面代码有什么问题？</span><a href="#88-下面代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">const</span> <span class="n">i</span> <span class="o">=</span> <span class="m">100</span>
<span class="k">var</span> <span class="n">j</span> <span class="o">=</span> <span class="m">123</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="o">&amp;</span><span class="n">j</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="o">&amp;</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：编译报错</strong></p>

<p><strong>解析：</strong></p>

<p>编译报错<code class="language-plaintext highlighter-rouge">cannot take the address of i</code>。知识点：常量。常量不同于变量的在运行期分配内存，常量通常会被编译器在预处理阶段直接展开，作为指令数据使用，所以常量无法寻址。</p>

<h3 id="89-下面代码能否编译通过如果通过输出什么"><span class="me-2">89. 下面代码能否编译通过？如果通过，输出什么？</span><a href="#89-下面代码能否编译通过如果通过输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">GetValue</span><span class="p">(</span><span class="n">m</span> <span class="k">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">string</span><span class="p">,</span> <span class="n">id</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="kt">string</span><span class="p">,</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">if</span> <span class="n">_</span><span class="p">,</span> <span class="n">exist</span> <span class="o">:=</span> <span class="n">m</span><span class="p">[</span><span class="n">id</span><span class="p">];</span> <span class="n">exist</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">"exist"</span><span class="p">,</span> <span class="no">true</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="no">nil</span><span class="p">,</span> <span class="no">false</span>
<span class="p">}</span>
<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">intmap</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span>
        <span class="m">1</span><span class="o">:</span> <span class="s">"a"</span><span class="p">,</span>
        <span class="m">2</span><span class="o">:</span> <span class="s">"b"</span><span class="p">,</span>
        <span class="m">3</span><span class="o">:</span> <span class="s">"c"</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">v</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">GetValue</span><span class="p">(</span><span class="n">intmap</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：不能通过编译</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：函数返回值类型。nil 可以用作 interface、function、pointer、map、slice 和 channel 的“空值”。但是如果不特别指定的话，Go 语言不能识别类型，所以会报错:<code class="language-plaintext highlighter-rouge">cannot use nil as type string in return argument</code></p>

<h3 id="90-关于异常的触发下面说法正确的是"><span class="me-2">90. 关于异常的触发，下面说法正确的是？</span><a href="#90-关于异常的触发下面说法正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. 空指针解析；</li>
  <li>B. 下标越界；</li>
  <li>C. 除数为 0；</li>
  <li>D. 调用 panic 函数；</li>
</ul>

<p><strong>答：A B C D</strong></p>

<h2 id="91120"><span class="me-2">91~120</span><a href="#91120" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="91-下面代码输出什么"><span class="me-2">91. 下面代码输出什么？</span><a href="#91-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">,</span> <span class="s">"c"</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">x</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：012</strong></p>

<p><strong>解析：</strong></p>

<p>注意区别下面代码段：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">,</span> <span class="s">"c"</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">x</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>     <span class="c">//输出 abc</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="92-下面这段代码能否编译通过如果通过输出什么"><span class="me-2">92. 下面这段代码能否编译通过？如果通过，输出什么？</span><a href="#92-下面这段代码能否编译通过如果通过输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">User</span> <span class="k">struct</span><span class="p">{}</span>
<span class="k">type</span> <span class="n">User1</span> <span class="n">User</span>
<span class="k">type</span> <span class="n">User2</span> <span class="o">=</span> <span class="n">User</span>

<span class="k">func</span> <span class="p">(</span><span class="n">i</span> <span class="n">User</span><span class="p">)</span> <span class="n">m1</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"m1"</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">i</span> <span class="n">User</span><span class="p">)</span> <span class="n">m2</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"m2"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">i1</span> <span class="n">User1</span>
    <span class="k">var</span> <span class="n">i2</span> <span class="n">User2</span>
    <span class="n">i1</span><span class="o">.</span><span class="n">m1</span><span class="p">()</span>
    <span class="n">i2</span><span class="o">.</span><span class="n">m2</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：不能，报错<code class="language-plaintext highlighter-rouge">i1.m1 undefined (type User1 has no field or method m1)</code></strong></p>

<p><strong>解析：</strong></p>

<p>第 2 行代码基于类型 User 创建了新类型 User1，第 3 行代码是创建了 User 的类型别名 User2，注意使用 = 定义类型别名。因为 User2 是别名，完全等价于 User，所以 User2 具有 User 所有的方法。但是 i1.m1() 是不能执行的，因为 User1 没有定义该方法。</p>

<h3 id="93-关于无缓冲和有冲突的-channel下面说法正确的是"><span class="me-2">93. 关于无缓冲和有冲突的 channel，下面说法正确的是？</span><a href="#93-关于无缓冲和有冲突的-channel下面说法正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. 无缓冲的 channel 是默认的缓冲为 1 的 channel；</li>
  <li>B. 无缓冲的 channel 和有缓冲的 channel 都是同步的；</li>
  <li>C. 无缓冲的 channel 和有缓冲的 channel 都是非同步的；</li>
  <li>D. 无缓冲的 channel 是同步的，而有缓冲的 channel 是非同步的；</li>
</ul>

<p><strong>答：D</strong></p>

<h3 id="94-下面代码是否能编译通过如果通过输出什么"><span class="me-2">94. 下面代码是否能编译通过？如果通过，输出什么？</span><a href="#94-下面代码是否能编译通过如果通过输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">Foo</span><span class="p">(</span><span class="n">x</span> <span class="k">interface</span><span class="p">{})</span> <span class="p">{</span>
     <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="no">nil</span> <span class="p">{</span>
         <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"empty interface"</span><span class="p">)</span>
         <span class="k">return</span>
     <span class="p">}</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"non-empty interface"</span><span class="p">)</span>
 <span class="p">}</span>
 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="k">var</span> <span class="n">x</span> <span class="o">*</span><span class="kt">int</span> <span class="o">=</span> <span class="no">nil</span>
    <span class="n">Foo</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：non-empty interface</strong></p>

<p><strong>解析：</strong></p>

<p>考点：interface 的内部结构，我们知道接口除了有静态类型，还有动态类型和动态值，当且仅当动态值和动态类型都为 nil 时，接口类型值才为 nil。这里的 x 的动态类型是 <code class="language-plaintext highlighter-rouge">*int</code>，所以 x 不为 nil。</p>

<h3 id="95-下面代码输出什么"><span class="me-2">95. 下面代码输出什么？</span><a href="#95-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">int</span><span class="p">,</span> <span class="m">100</span><span class="p">)</span>
     <span class="c">// A</span>
     <span class="k">go</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
             <span class="n">ch</span> <span class="o">&lt;-</span> <span class="n">i</span>
         <span class="p">}</span>
     <span class="p">}()</span>
     <span class="c">// B</span>
    <span class="k">go</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">{</span>
            <span class="n">a</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="n">ch</span>
            <span class="k">if</span> <span class="o">!</span><span class="n">ok</span> <span class="p">{</span>
                <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"close"</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"a: "</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}()</span>
    <span class="nb">close</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"ok"</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">Sleep</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：程序抛异常</strong></p>

<p><strong>解析：</strong></p>

<p>先定义下，第一个协程为 A 协程，第二个协程为 B 协程；当 A 协程还没起时，主协程已经将 channel 关闭了，当 A 协程往关闭的 channel 发送数据时会 panic，<code class="language-plaintext highlighter-rouge">panic: send on closed channel</code>。</p>

<h3 id="96-关于-select-机制下面说法正确的是"><span class="me-2">96. 关于 select 机制，下面说法正确的是?</span><a href="#96-关于-select-机制下面说法正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. select 机制用来处理异步 IO 问题；</li>
  <li>B. select 机制最大的一条限制就是每个 case 语句里必须是一个 IO 操作；</li>
  <li>C. golang 在语言级别支持 select 关键字；</li>
  <li>D. select 关键字的用法与 switch 语句非常类似，后面要带判断条件；</li>
</ul>

<p><strong>答：A B C</strong></p>

<h3 id="97-下面的代码有什么问题"><span class="me-2">97. 下面的代码有什么问题？</span><a href="#97-下面的代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">Stop</span><span class="p">(</span><span class="n">stop</span> <span class="o">&lt;-</span><span class="k">chan</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">close</span><span class="p">(</span><span class="n">stop</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：有方向的 channel 不可以被关闭。</strong></p>

<h3 id="98-下面这段代码存在什么问题"><span class="me-2">98. 下面这段代码存在什么问题？</span><a href="#98-下面这段代码存在什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">Param</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>

<span class="k">type</span> <span class="n">Show</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="o">*</span><span class="n">Param</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">s</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="n">Show</span><span class="p">)</span>
    <span class="n">s</span><span class="o">.</span><span class="n">Param</span><span class="p">[</span><span class="s">"day"</span><span class="p">]</span> <span class="o">=</span> <span class="m">2</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：存在两个问题</strong></p>

<p><strong>解析：</strong></p>

<ol>
  <li>
    <p>map 需要初始化才能使用；</p>
  </li>
  <li>
    <p>指针不支持索引。修复代码如下：</p>

    <div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">s</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="n">Show</span><span class="p">)</span>
    <span class="c">// 修复代码</span>
    <span class="n">p</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="n">Param</span><span class="p">)</span>
    <span class="n">p</span><span class="p">[</span><span class="s">"day"</span><span class="p">]</span> <span class="o">=</span> <span class="m">2</span>
    <span class="n">s</span><span class="o">.</span><span class="n">Param</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">p</span>
    <span class="n">tmp</span> <span class="o">:=</span> <span class="o">*</span><span class="n">s</span><span class="o">.</span><span class="n">Param</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">tmp</span><span class="p">[</span><span class="s">"day"</span><span class="p">])</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
</ol>

<h3 id="99-下面代码编译能通过吗"><span class="me-2">99. 下面代码编译能通过吗？</span><a href="#99-下面代码编译能通过吗" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"hello world"</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：编译错误</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>syntax error: unexpected semicolon or newline before <span class="o">{</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>Go 语言中，大括号不能放在单独的一行。</p>

<p>正确的代码如下：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"works"</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="100-下面这段代码输出什么"><span class="me-2">100. 下面这段代码输出什么？</span><a href="#100-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">x</span> <span class="o">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">2</span><span class="o">:</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">0</span><span class="o">:</span> <span class="m">1</span><span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：[1 0 2 3]</strong></p>

<p><strong>解析：</strong></p>

<p>字面量初始化切片时候，可以指定索引，没有指定索引的元素会在前一个索引基础之上加一，所以输出<code class="language-plaintext highlighter-rouge">[1 0 2 3]</code>，而不是<code class="language-plaintext highlighter-rouge">[1 3 2]</code>。</p>

<h3 id="101-下面这段代码输出什么"><span class="me-2">101. 下面这段代码输出什么？</span><a href="#101-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">incr</span><span class="p">(</span><span class="n">p</span> <span class="o">*</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="o">*</span><span class="n">p</span><span class="o">++</span>
    <span class="k">return</span> <span class="o">*</span><span class="n">p</span>
<span class="p">}</span>
<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">v</span> <span class="o">:=</span> <span class="m">1</span>
    <span class="n">incr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">v</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：2</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：指针。</p>

<p>p 是指针变量，指向变量 v，<code class="language-plaintext highlighter-rouge">*p++</code>操作的意思是取出变量 v 的值并执行加一操作，所以 v 的最终值是 2。</p>

<h3 id="102-请指出下面代码的错误"><span class="me-2">102. 请指出下面代码的错误？</span><a href="#102-请指出下面代码的错误" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">var</span> <span class="n">gvar</span> <span class="kt">int</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">one</span> <span class="kt">int</span>
    <span class="n">two</span> <span class="o">:=</span> <span class="m">2</span>
    <span class="k">var</span> <span class="n">three</span> <span class="kt">int</span>
    <span class="n">three</span> <span class="o">=</span> <span class="m">3</span>

    <span class="k">func</span><span class="p">(</span><span class="n">unused</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Unused arg. No compile error"</span><span class="p">)</span>
    <span class="p">}(</span><span class="s">"what?"</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：变量 one、two 和 three 声明未使用</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：<strong>未使用变量</strong>。</p>

<p>如果有未使用的变量代码将编译失败。但也有例外，函数中声明的变量必须要使用，但可以有未使用的全局变量。函数的参数未使用也是可以的。</p>

<p>如果你给未使用的变量分配了一个新值，代码也还是会编译失败。你需要在某个地方使用这个变量，才能让编译器愉快的编译。</p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">one</span> <span class="kt">int</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">one</span>

    <span class="n">two</span> <span class="o">:=</span> <span class="m">2</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">two</span><span class="p">)</span>

    <span class="k">var</span> <span class="n">three</span> <span class="kt">int</span>
    <span class="n">three</span> <span class="o">=</span> <span class="m">3</span>
    <span class="n">one</span> <span class="o">=</span> <span class="n">three</span>

    <span class="k">var</span> <span class="n">four</span> <span class="kt">int</span>
    <span class="n">four</span> <span class="o">=</span> <span class="n">four</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>另一个选择是注释掉或者移除未使用的变量 。</p>

<h3 id="103-下面代码输出什么"><span class="me-2">103. 下面代码输出什么？</span><a href="#103-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">ConfigOne</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">Daemon</span> <span class="kt">string</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">c</span> <span class="o">*</span><span class="n">ConfigOne</span><span class="p">)</span> <span class="n">String</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"print: %v"</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">c</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">ConfigOne</span><span class="p">{}</span>
    <span class="n">c</span><span class="o">.</span><span class="n">String</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：运行时错误</strong></p>

<p><strong>解析：</strong></p>

<p>如果类型实现 String() 方法，当格式化输出时会自动使用 String() 方法。上面这段代码是在该类型的 String() 方法内使用格式化输出，导致递归调用，最后抛错。</p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>runtime: goroutine stack exceeds 1000000000-byte limit
fatal error: stack overflow
</pre></td></tr></tbody></table></code></div></div>

<h3 id="104-下面代码输出什么"><span class="me-2">104. 下面代码输出什么？</span><a href="#104-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">a</span> <span class="o">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">}</span>
    <span class="k">var</span> <span class="n">r</span> <span class="o">=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">a</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
            <span class="n">a</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">7</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="n">r</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：[1 2 3 4 5]</strong></p>

<p><strong>解析：</strong></p>

<p>a 在 for range 过程中增加了两个元素，len 由 5 增加到 7，但 for range 时会使用 a 的副本 a’ 参与循环，副本的 len 依旧是 5，因此 for range 只会循环 5 次，也就只获取 a 对应的底层数组的前 5 个元素。</p>

<h3 id="105-下面的代码有什么问题"><span class="me-2">105. 下面的代码有什么问题？</span><a href="#105-下面的代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">import</span> <span class="p">(</span>
    <span class="s">"fmt"</span>
    <span class="s">"log"</span>
    <span class="s">"time"</span>
<span class="p">)</span>
<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：导入的包没有被使用</strong></p>

<p><strong>解析：</strong></p>

<p>如果引入一个包，但是未使用其中如何函数、接口、结构体或变量的话，代码将编译失败。</p>

<p>如果你真的需要引入包，可以使用下划线操作符，<code class="language-plaintext highlighter-rouge">_</code>，来作为这个包的名字，从而避免失败。下划线操作符用于引入，但不使用。</p>

<p>我们还可以注释或者移除未使用的包。</p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">import</span> <span class="p">(</span>
    <span class="n">_</span> <span class="s">"fmt"</span>
    <span class="s">"log"</span>
    <span class="s">"time"</span>
<span class="p">)</span>
<span class="k">var</span> <span class="n">_</span> <span class="o">=</span> <span class="n">log</span><span class="o">.</span><span class="n">Println</span>
<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">Now</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="106-下面代码输出什么"><span class="me-2">106. 下面代码输出什么？</span><a href="#106-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">:=</span> <span class="k">interface</span><span class="p">{}(</span><span class="no">nil</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">:=</span> <span class="p">(</span><span class="o">*</span><span class="kt">int</span><span class="p">)(</span><span class="no">nil</span><span class="p">)</span>
    <span class="n">a</span> <span class="o">:=</span> <span class="n">y</span> <span class="o">==</span> <span class="n">x</span>
    <span class="n">b</span> <span class="o">:=</span> <span class="n">y</span> <span class="o">==</span> <span class="no">nil</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">c</span> <span class="o">:=</span> <span class="n">x</span><span class="o">.</span><span class="p">(</span><span class="k">interface</span><span class="p">{})</span>
    <span class="nb">println</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. true true true</li>
  <li>B. false true true</li>
  <li>C. true true true</li>
  <li>D. false true false</li>
</ul>

<p><strong>答：D</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：类型断言。</p>

<p>类型断言语法：i.(Type)，其中 i 是接口，Type 是类型或接口。编译时会自动检测 i 的动态类型与 Type 是否一致。但是，如果动态类型不存在，则断言总是失败。</p>

<h3 id="107-下面代码有几处错误的地方请说明原因"><span class="me-2">107. 下面代码有几处错误的地方？请说明原因。</span><a href="#107-下面代码有几处错误的地方请说明原因" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">s</span> <span class="p">[]</span><span class="kt">int</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="m">1</span><span class="p">)</span>

    <span class="k">var</span> <span class="n">m</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span>
    <span class="n">m</span><span class="p">[</span><span class="s">"one"</span><span class="p">]</span> <span class="o">=</span> <span class="m">1</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：有 1 处错误</strong></p>

<p><strong>解析：</strong></p>

<p>有 1 处错误，不能对 nil 的 map 直接赋值，需要使用 make() 初始化。但可以使用 append() 函数对为 nil 的 slice 增加元素。</p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">m</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span>
    <span class="n">m</span> <span class="o">=</span> <span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">)</span>
    <span class="n">m</span><span class="p">[</span><span class="s">"one"</span><span class="p">]</span> <span class="o">=</span> <span class="m">1</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="108-下面代码有什么问题"><span class="me-2">108. 下面代码有什么问题？</span><a href="#108-下面代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">m</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">,</span><span class="m">2</span><span class="p">)</span>
    <span class="nb">cap</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：使用 cap() 获取 map 的容量</strong></p>

<p><strong>解析：</strong></p>

<ol>
  <li>
    <p>使用 make 创建 map 变量时可以指定第二个参数，不过会被忽略。</p>
  </li>
  <li>
    <p>cap() 函数适用于数组、数组指针、slice 和 channel，不适用于 map，可以使用 len() 返回 map 的元素个数。</p>
  </li>
</ol>

<h3 id="109-下面的代码有什么问题"><span class="me-2">109. 下面的代码有什么问题？</span><a href="#109-下面的代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">x</span> <span class="o">=</span> <span class="no">nil</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">x</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>nil 用于表示 interface、函数、maps、slices 和 channels 的“零值”。如果不指定变量的类型，编译器猜不出变量的具体类型，导致编译错误。</p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">x</span> <span class="k">interface</span><span class="p">{}</span> <span class="o">=</span> <span class="no">nil</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">x</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="110-下面代码能编译通过吗"><span class="me-2">110. 下面代码能编译通过吗？</span><a href="#110-下面代码能编译通过吗" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">info</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">result</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">work</span><span class="p">()</span> <span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="m">13</span><span class="p">,</span><span class="no">nil</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">data</span> <span class="n">info</span>

    <span class="n">data</span><span class="o">.</span><span class="n">result</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">work</span><span class="p">()</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"info: %+v</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">data</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：编译失败</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>non-name data.result on left side of :<span class="o">=</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>不能使用短变量声明设置结构体字段值，修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">data</span> <span class="n">info</span>

    <span class="k">var</span> <span class="n">err</span> <span class="kt">error</span>
    <span class="n">data</span><span class="o">.</span><span class="n">result</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">work</span><span class="p">()</span> <span class="c">//ok</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="p">}</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="111-下面代码有什么错误"><span class="me-2">111. 下面代码有什么错误？</span><a href="#111-下面代码有什么错误" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">one</span> <span class="o">:=</span> <span class="m">0</span>
    <span class="n">one</span> <span class="o">:=</span> <span class="m">1</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：变量重复声明</strong></p>

<p><strong>解析：</strong></p>

<p>不能在单独的声明中重复声明一个变量，但在多变量声明的时候是可以的，但必须保证至少有一个变量是新声明的。</p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">one</span> <span class="o">:=</span> <span class="m">0</span>
    <span class="n">one</span><span class="p">,</span> <span class="n">two</span> <span class="o">:=</span> <span class="m">1</span><span class="p">,</span><span class="m">2</span>
    <span class="n">one</span><span class="p">,</span><span class="n">two</span> <span class="o">=</span> <span class="n">two</span><span class="p">,</span><span class="n">one</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="112-下面代码有什么问题"><span class="me-2">112. 下面代码有什么问题？</span><a href="#112-下面代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span>
        <span class="m">1</span><span class="p">,</span>
        <span class="m">2</span>
    <span class="p">}</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">x</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：编译错误</strong></p>

<p><strong>解析：</strong></p>

<p>第四行代码没有逗号。用字面量初始化数组、slice 和 map 时，最好是在每个元素后面加上逗号，即使是声明在一行或者多行都不会出错。</p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span>    <span class="c">// 多行</span>
        <span class="m">1</span><span class="p">,</span>
        <span class="m">2</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span>

    <span class="n">y</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">,}</span> <span class="c">// 一行 no error</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="113-下面代码输出什么"><span class="me-2">113. 下面代码输出什么？</span><a href="#113-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">test</span><span class="p">(</span><span class="n">x</span> <span class="kt">byte</span><span class="p">)</span>  <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">a</span> <span class="kt">byte</span> <span class="o">=</span> <span class="m">0x11</span>
    <span class="k">var</span> <span class="n">b</span> <span class="kt">uint8</span> <span class="o">=</span> <span class="n">a</span>
    <span class="k">var</span> <span class="n">c</span> <span class="kt">uint8</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
    <span class="n">test</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：34</strong></p>

<p><strong>解析：</strong></p>

<p>与 rune 是 int32 的别名一样，byte 是 uint8 的别名，别名类型无序转换，可直接转换。</p>

<h3 id="114-下面的代码有什么问题"><span class="me-2">114. 下面的代码有什么问题？</span><a href="#114-下面的代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">const</span> <span class="n">x</span> <span class="o">=</span> <span class="m">123</span>
    <span class="k">const</span> <span class="n">y</span> <span class="o">=</span> <span class="m">1.23</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：编译可以通过</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：常量。</p>

<p>常量是一个简单值的标识符，在程序运行时，不会被修改的量。不像变量，常量未使用是能编译通过的。</p>

<h3 id="115-下面代码输出什么"><span class="me-2">115. 下面代码输出什么？</span><a href="#115-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">const</span> <span class="p">(</span>
    <span class="n">x</span> <span class="kt">uint16</span> <span class="o">=</span> <span class="m">120</span>
    <span class="n">y</span>
    <span class="n">s</span> <span class="o">=</span> <span class="s">"abc"</span>
    <span class="n">z</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%T %v</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%T %v</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>uint16 120
string abc
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>常量组中如不指定类型和初始化值，则与上一行非空常量右值相同</p>

<h3 id="116-下面代码有什么问题"><span class="me-2">116. 下面代码有什么问题？</span><a href="#116-下面代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">x</span> <span class="kt">string</span> <span class="o">=</span> <span class="no">nil</span>

    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">x</span> <span class="o">=</span> <span class="s">"default"</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：将 nil 分配给 string 类型的变量</strong></p>

<p><strong>解析：</strong></p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">x</span> <span class="kt">string</span> <span class="c">//defaults to "" (zero value)</span>

    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">x</span> <span class="o">=</span> <span class="s">"default"</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="117-下面的代码有什么问题"><span class="me-2">117. 下面的代码有什么问题？</span><a href="#117-下面的代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">data</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">}</span>
    <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span>
    <span class="o">++</span><span class="n">i</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">])</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>对于自增、自减，需要注意：</p>

<ul>
  <li>自增、自减不在是运算符，只能作为独立语句，而不是表达式；</li>
  <li>不像其他语言，Go 语言中不支持 ++i 和 –i 操作；</li>
</ul>

<p>表达式通常是求值代码，可作为右值或参数使用。而语句表示完成一个任务，比如 if、for 语句等。表达式可作为语句使用，但语句不能当做表达式。</p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">data</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">}</span>
    <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span>
    <span class="n">i</span><span class="o">++</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="118-下面代码最后一行输出什么请说明原因"><span class="me-2">118. 下面代码最后一行输出什么？请说明原因。</span><a href="#118-下面代码最后一行输出什么请说明原因" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">:=</span> <span class="m">1</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="o">:=</span> <span class="m">2</span><span class="p">,</span><span class="m">2</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c">// print ?</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：输出<code class="language-plaintext highlighter-rouge">1</code></strong></p>

<p><strong>解析：</strong></p>

<p>知识点：变量隐藏。</p>

<p>使用变量简短声明符号 := 时，如果符号左边有多个变量，只需要保证至少有一个变量是新声明的，并对已定义的变量尽进行赋值操作。但如果出现作用域之后，就会导致变量隐藏的问题，就像这个例子一样。</p>

<p>这个坑很容易挖，但又很难发现。即使对于经验丰富的 Go 开发者而言，这也是一个非常常见的陷阱。</p>

<h3 id="119-下面代码有什么问题"><span class="me-2">119. 下面代码有什么问题？</span><a href="#119-下面代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">foo</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">bar</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">f</span> <span class="n">foo</span>
    <span class="n">f</span><span class="o">.</span><span class="n">bar</span><span class="p">,</span> <span class="n">tmp</span> <span class="o">:=</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：编译错误</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>non-name f.bar on left side of :<span class="o">=</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p><code class="language-plaintext highlighter-rouge">:=</code> 操作符不能用于结构体字段赋值。</p>

<h3 id="120-下面的代码输出什么"><span class="me-2">120. 下面的代码输出什么？</span><a href="#120-下面的代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="err">~</span><span class="m">2</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：编译错误</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>invalid character U+007E <span class="s1">'~'</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>很多语言都是采用 <code class="language-plaintext highlighter-rouge">~</code> 作为按位取反运算符，Go 里面采用的是<code class="language-plaintext highlighter-rouge"> ^</code> 。按位取反之后返回一个每个 bit 位都取反的数，对于有符号的整数来说，是按照补码进行取反操作的（快速计算方法：对数 a 取反，结果为 -(a+1) ），对于无符号整数来说就是按位取反。例如：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">a</span> <span class="kt">int8</span> <span class="o">=</span> <span class="m">3</span>
    <span class="k">var</span> <span class="n">b</span> <span class="kt">uint8</span> <span class="o">=</span> <span class="m">3</span>
    <span class="k">var</span> <span class="n">c</span> <span class="kt">int8</span> <span class="o">=</span> <span class="o">-</span><span class="m">3</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"^%b=%b %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="o">^</span><span class="n">a</span><span class="p">,</span> <span class="o">^</span><span class="n">a</span><span class="p">)</span> <span class="c">// ^11=-100 -4</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"^%b=%b %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="o">^</span><span class="n">b</span><span class="p">,</span> <span class="o">^</span><span class="n">b</span><span class="p">)</span> <span class="c">// ^11=11111100 252</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"^%b=%b %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="o">^</span><span class="n">c</span><span class="p">,</span> <span class="o">^</span><span class="n">c</span><span class="p">)</span> <span class="c">// ^-11=10 2</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>另外需要注意的是，如果作为二元运算符，^ 表示按位异或，即：对应位相同为 0，相异为 1。例如：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">a</span> <span class="kt">int8</span> <span class="o">=</span> <span class="m">3</span>
    <span class="k">var</span> <span class="n">c</span> <span class="kt">int8</span> <span class="o">=</span> <span class="m">5</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"a: %08b</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">a</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"c: %08b</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"a^c: %08b</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">a</span> <span class="o">^</span> <span class="n">c</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>给大家重点介绍下这个操作符 &amp;^，按位置零，例如：z = x &amp;^ y，表示如果 y 中的 bit 位为 1，则 z 对应 bit 位为 0，否则 z 对应 bit 位等于 x 中相应的 bit 位的值。</p>

<div class="table-wrapper"><table>
  <tbody>
    <tr>
      <td>不知道大家发现没有，我们还可以这样理解或操作符</td>
      <td>，表达式 z = x</td>
      <td>y，如果 y 中的 bit 位为 1，则 z 对应 bit 位为 1，否则 z 对应 bit 位等于 x 中相应的 bit 位的值，与 &amp;^ 完全相反。</td>
    </tr>
  </tbody>
</table></div>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">x</span> <span class="kt">uint8</span> <span class="o">=</span> <span class="m">214</span>
<span class="k">var</span> <span class="n">y</span> <span class="kt">uint8</span> <span class="o">=</span> <span class="m">92</span>
<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"x: %08b</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"y: %08b</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"x | y: %08b</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">x</span> <span class="o">|</span> <span class="n">y</span><span class="p">)</span>
<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"x &amp;^ y: %08b</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">x</span> <span class="o">&amp;^</span> <span class="n">y</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p>输出：</p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>x: 11010110
y: 01011100
x | y: 11011110
x &amp;^ y: 10000010
</pre></td></tr></tbody></table></code></div></div>

<h2 id="121150"><span class="me-2">121~150</span><a href="#121150" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="121-下面代码输出什么"><span class="me-2">121. 下面代码输出什么？</span><a href="#121-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">ch</span> <span class="k">chan</span> <span class="kt">int</span>
    <span class="k">select</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">v</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="n">ch</span><span class="o">:</span>
        <span class="nb">println</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">ok</span><span class="p">)</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="nb">println</span><span class="p">(</span><span class="s">"default"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：default</strong></p>

<p><strong>解析：</strong></p>

<p>ch 为 nil，读写都会阻塞。</p>

<h3 id="122-下面这段代码输出什么"><span class="me-2">122. 下面这段代码输出什么？</span><a href="#122-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">People</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">name</span> <span class="kt">string</span> <span class="s">`json:"name"`</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">js</span> <span class="o">:=</span> <span class="s">`{
        "name":"seekload"
    }`</span>
    <span class="k">var</span> <span class="n">p</span> <span class="n">People</span>
    <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">js</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">p</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"err: "</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：输出 {}</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：结构体访问控制，因为 name 首字母是小写，导致其他包不能访问，所以输出为空结构体。</p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">People</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">Name</span> <span class="kt">string</span> <span class="s">`json:"name"`</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="123-下面这段代码输出什么"><span class="me-2">123. 下面这段代码输出什么？</span><a href="#123-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<pre><code class="language-GO">type T struct {
    ls []int
}

func foo(t T) {
    t.ls[0] = 100
}

func main() {
    var t = T{
        ls: []int{1, 2, 3},
    }

    foo(t)
    fmt.Println(t.ls[0])
}
</code></pre>

<ul>
  <li>A. 1</li>
  <li>B. 100</li>
  <li>C. compilation error</li>
</ul>

<p><strong>答：输出 B</strong></p>

<p><strong>解析：</strong></p>

<p>调用 foo() 函数时虽然是传值，但 foo() 函数中，字段 ls 依旧可以看成是指向底层数组的指针。</p>

<h3 id="124-下面代码输出什么"><span class="me-2">124. 下面代码输出什么？</span><a href="#124-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">isMatch</span> <span class="o">:=</span> <span class="k">func</span><span class="p">(</span><span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
        <span class="k">switch</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="m">1</span><span class="o">:</span>
        <span class="k">case</span> <span class="m">2</span><span class="o">:</span>
            <span class="k">return</span> <span class="no">true</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="no">false</span>
    <span class="p">}</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">isMatch</span><span class="p">(</span><span class="m">1</span><span class="p">))</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">isMatch</span><span class="p">(</span><span class="m">2</span><span class="p">))</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：false true</strong></p>

<p><strong>解析：</strong></p>

<p>Go 语言的 switch 语句虽然没有”break”，但如果 case 完成程序会默认 break，可以在 case 语句后面加上关键字 fallthrough，这样就会接着走下一个 case 语句（不用匹配后续条件表达式）。或者，利用 case 可以匹配多个值的特性。</p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">isMatch</span> <span class="o">:=</span> <span class="k">func</span><span class="p">(</span><span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
        <span class="k">switch</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="m">1</span><span class="o">:</span>
            <span class="k">fallthrough</span>
        <span class="k">case</span> <span class="m">2</span><span class="o">:</span>
            <span class="k">return</span> <span class="no">true</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="no">false</span>
    <span class="p">}</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">isMatch</span><span class="p">(</span><span class="m">1</span><span class="p">))</span>     <span class="c">// true</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">isMatch</span><span class="p">(</span><span class="m">2</span><span class="p">))</span>     <span class="c">// true</span>

    <span class="n">match</span> <span class="o">:=</span> <span class="k">func</span><span class="p">(</span><span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
        <span class="k">switch</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="o">:</span>
            <span class="k">return</span> <span class="no">true</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="no">false</span>
    <span class="p">}</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">match</span><span class="p">(</span><span class="m">1</span><span class="p">))</span>       <span class="c">// true</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">match</span><span class="p">(</span><span class="m">2</span><span class="p">))</span>       <span class="c">// true</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="125-下面的代码能否正确输出"><span class="me-2">125. 下面的代码能否正确输出？</span><a href="#125-下面的代码能否正确输出" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">fn1</span> <span class="o">=</span> <span class="k">func</span><span class="p">()</span> <span class="p">{}</span>
    <span class="k">var</span> <span class="n">fn2</span> <span class="o">=</span> <span class="k">func</span><span class="p">()</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">fn1</span> <span class="o">!=</span> <span class="n">fn2</span> <span class="p">{</span>
        <span class="nb">println</span><span class="p">(</span><span class="s">"fn1 not equal fn2"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：编译错误</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>invalid operation: fn1 <span class="o">!=</span> fn2 <span class="o">(</span>func can only be compared to nil<span class="o">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>函数只能与 nil 比较。</p>

<h3 id="126-下面代码输出什么"><span class="me-2">126. 下面代码输出什么？</span><a href="#126-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">T</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">n</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">m</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="n">T</span><span class="p">)</span>
    <span class="n">m</span><span class="p">[</span><span class="m">0</span><span class="p">]</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="m">1</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="m">0</span><span class="p">]</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. 1</li>
  <li>B. compilation error</li>
</ul>

<p><strong>答：B</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>cannot assign to struct field m[0].n <span class="k">in </span>map
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>map[key]struct 中 struct 是不可寻址的，所以无法直接赋值。</p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">T</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">n</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">m</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="n">T</span><span class="p">)</span>

    <span class="n">t</span> <span class="o">:=</span> <span class="n">T</span><span class="p">{</span><span class="m">1</span><span class="p">}</span>
    <span class="n">m</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="m">0</span><span class="p">]</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="127-下面的代码有什么问题"><span class="me-2">127. 下面的代码有什么问题？</span><a href="#127-下面的代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">X</span> <span class="k">struct</span> <span class="p">{}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">x</span> <span class="o">*</span><span class="n">X</span><span class="p">)</span> <span class="n">test</span><span class="p">()</span>  <span class="p">{</span>
    <span class="nb">println</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">var</span> <span class="n">a</span> <span class="o">*</span><span class="n">X</span>
    <span class="n">a</span><span class="o">.</span><span class="n">test</span><span class="p">()</span>

    <span class="n">X</span><span class="p">{}</span><span class="o">.</span><span class="n">test</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：X{} 是不可寻址的，不能直接调用方法</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：在方法中，指针类型的接收者必须是合法指针（包括 nil）,或能获取实例地址。</p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">var</span> <span class="n">a</span> <span class="o">*</span><span class="n">X</span>
    <span class="n">a</span><span class="o">.</span><span class="n">test</span><span class="p">()</span>    <span class="c">// 相当于 test(nil)</span>

    <span class="k">var</span> <span class="n">x</span> <span class="o">=</span> <span class="n">X</span><span class="p">{}</span>
    <span class="n">x</span><span class="o">.</span><span class="n">test</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="128-下面代码有什么不规范的地方吗"><span class="me-2">128. 下面代码有什么不规范的地方吗？</span><a href="#128-下面代码有什么不规范的地方吗" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="s">"one"</span><span class="o">:</span><span class="s">"a"</span><span class="p">,</span><span class="s">"two"</span><span class="o">:</span><span class="s">""</span><span class="p">,</span><span class="s">"three"</span><span class="o">:</span><span class="s">"c"</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">v</span> <span class="o">:=</span> <span class="n">x</span><span class="p">[</span><span class="s">"two"</span><span class="p">];</span> <span class="n">v</span> <span class="o">==</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"no entry"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>检查 map 是否含有某一元素，直接判断元素的值并不是一种合适的方式。最可靠的操作是使用访问 map 时返回的第二个值。</p>

<p>修复代码如下：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="s">"one"</span><span class="o">:</span><span class="s">"a"</span><span class="p">,</span><span class="s">"two"</span><span class="o">:</span><span class="s">""</span><span class="p">,</span><span class="s">"three"</span><span class="o">:</span><span class="s">"c"</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">_</span><span class="p">,</span><span class="n">ok</span> <span class="o">:=</span> <span class="n">x</span><span class="p">[</span><span class="s">"two"</span><span class="p">];</span> <span class="o">!</span><span class="n">ok</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"no entry"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="129-关于-channel-下面描述正确的是"><span class="me-2">129. 关于 channel 下面描述正确的是？</span><a href="#129-关于-channel-下面描述正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. 向已关闭的通道发送数据会引发 panic；</li>
  <li>B. 从已关闭的缓冲通道接收数据，返回已缓冲数据或者零值；</li>
  <li>C. 无论接收还是接收，nil 通道都会阻塞；</li>
</ul>

<p><strong>答：A B C</strong></p>

<h3 id="130-下面的代码有几处问题请详细说明"><span class="me-2">130. 下面的代码有几处问题？请详细说明。</span><a href="#130-下面的代码有几处问题请详细说明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">T</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">n</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">t</span> <span class="o">*</span><span class="n">T</span><span class="p">)</span> <span class="n">Set</span><span class="p">(</span><span class="n">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">t</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="n">n</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">getT</span><span class="p">()</span> <span class="n">T</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">T</span><span class="p">{}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">getT</span><span class="p">()</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：有两处问题</strong></p>

<p><strong>解析：</strong></p>

<ul>
  <li>1.直接返回的 T{} 不可寻址；</li>
  <li>2.不可寻址的结构体不能调用带结构体指针接收者的方法；</li>
</ul>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">T</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">n</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">t</span> <span class="o">*</span><span class="n">T</span><span class="p">)</span> <span class="n">Set</span><span class="p">(</span><span class="n">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">t</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="n">n</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">getT</span><span class="p">()</span> <span class="n">T</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">T</span><span class="p">{}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">t</span> <span class="o">:=</span> <span class="n">getT</span><span class="p">()</span>
    <span class="n">t</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="131-下面的代码有什么问题"><span class="me-2">131. 下面的代码有什么问题？</span><a href="#131-下面的代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">N</span> <span class="kt">int</span>

<span class="k">func</span> <span class="p">(</span><span class="n">n</span> <span class="n">N</span><span class="p">)</span> <span class="n">value</span><span class="p">(){</span>
    <span class="n">n</span><span class="o">++</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"v:%p,%v</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">n</span> <span class="o">*</span><span class="n">N</span><span class="p">)</span> <span class="n">pointer</span><span class="p">(){</span>
    <span class="o">*</span><span class="n">n</span><span class="o">++</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"v:%p,%v</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="o">*</span><span class="n">n</span><span class="p">)</span>
<span class="p">}</span>


<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">var</span> <span class="n">a</span> <span class="n">N</span> <span class="o">=</span> <span class="m">25</span>

    <span class="n">p</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">a</span>
    <span class="n">p1</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">p</span>

    <span class="n">p1</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
    <span class="n">p1</span><span class="o">.</span><span class="n">pointer</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：编译错误</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>calling method value with receiver p1 <span class="o">(</span><span class="nb">type</span> <span class="k">**</span>N<span class="o">)</span> requires explicit dereference
calling method pointer with receiver p1 <span class="o">(</span><span class="nb">type</span> <span class="k">**</span>N<span class="o">)</span> requires explicit dereference
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>不能使用多级指针调用方法。</p>

<h3 id="132-下面的代码输出什么"><span class="me-2">132. 下面的代码输出什么？</span><a href="#132-下面的代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">N</span> <span class="kt">int</span>

<span class="k">func</span> <span class="p">(</span><span class="n">n</span> <span class="n">N</span><span class="p">)</span> <span class="n">test</span><span class="p">(){</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span>  <span class="p">{</span>
    <span class="k">var</span> <span class="n">n</span> <span class="n">N</span> <span class="o">=</span> <span class="m">10</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="n">n</span><span class="o">++</span>
    <span class="n">f1</span> <span class="o">:=</span> <span class="n">N</span><span class="o">.</span><span class="n">test</span>
    <span class="n">f1</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="n">n</span><span class="o">++</span>
    <span class="n">f2</span> <span class="o">:=</span> <span class="p">(</span><span class="o">*</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="n">test</span>
    <span class="n">f2</span><span class="p">(</span><span class="o">&amp;</span><span class="n">n</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：10 11 12</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：方法表达式。</p>

<p>通过类型引用的方法表达式会被还原成普通函数样式，接收者是第一个参数，调用时显示传参。类型可以是 T 或 *T，只要目标方法存在于该类型的方法集中就可以。</p>

<p>还可以直接使用方法表达式调用：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span>  <span class="p">{</span>
    <span class="k">var</span> <span class="n">n</span> <span class="n">N</span> <span class="o">=</span> <span class="m">10</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="n">n</span><span class="o">++</span>
    <span class="n">N</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="n">n</span><span class="o">++</span>
    <span class="p">(</span><span class="o">*</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="o">&amp;</span><span class="n">n</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="133-关于-channel-下面描述正确的是"><span class="me-2">133. 关于 channel 下面描述正确的是？</span><a href="#133-关于-channel-下面描述正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. close() 可以用于只接收通道；</li>
  <li>B. 单向通道可以转换为双向通道；</li>
  <li>C. 不能在单向通道上做逆向操作（例如：只发送通道用于接收）；</li>
</ul>

<p><strong>答：C</strong></p>

<h3 id="134-下面的代码有什么问题"><span class="me-2">134. 下面的代码有什么问题？</span><a href="#134-下面的代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">T</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">n</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">getT</span><span class="p">()</span> <span class="n">T</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">T</span><span class="p">{}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">getT</span><span class="p">()</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="m">1</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：编译错误</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>cannot assign to getT<span class="o">()</span>.n
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>直接返回的 T{} 无法寻址，不可直接赋值。</p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">T</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">n</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">getT</span><span class="p">()</span> <span class="n">T</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">T</span><span class="p">{}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">t</span> <span class="o">:=</span> <span class="n">getT</span><span class="p">()</span>
    <span class="n">p</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">t</span><span class="o">.</span><span class="n">n</span>    <span class="c">// &lt;=&gt; p = &amp;(t.n)</span>
    <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="m">1</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="135-下面的代码有什么问题"><span class="me-2">135. 下面的代码有什么问题？</span><a href="#135-下面的代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="s">"fmt"</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">s</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">9</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
    <span class="n">s2</span> <span class="o">:=</span> <span class="n">s</span><span class="p">[</span><span class="m">4</span><span class="o">:</span><span class="m">8</span><span class="p">]</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s2</span><span class="p">))</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：代码没问题，输出 3 4</strong></p>

<p><strong>解析：</strong></p>

<p><strong>从一个基础切片派生出的子切片的长度可能大于基础切片的长度</strong>。假设基础切片是 baseSlice，使用操作符 [low,high]，有如下规则：0 &lt;= low &lt;= high &lt;= cap(baseSlice)，只要上述满足这个关系，下标 low 和 high 都可以大于 len(baseSlice)。</p>

<h3 id="136-下面代码输出什么"><span class="me-2">136. 下面代码输出什么？</span><a href="#136-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">N</span> <span class="kt">int</span>

<span class="k">func</span> <span class="p">(</span><span class="n">n</span> <span class="n">N</span><span class="p">)</span> <span class="n">test</span><span class="p">(){</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span>  <span class="p">{</span>
    <span class="k">var</span> <span class="n">n</span> <span class="n">N</span> <span class="o">=</span> <span class="m">10</span>
    <span class="n">p</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">n</span>

    <span class="n">n</span><span class="o">++</span>
    <span class="n">f1</span> <span class="o">:=</span> <span class="n">n</span><span class="o">.</span><span class="n">test</span>

    <span class="n">n</span><span class="o">++</span>
    <span class="n">f2</span> <span class="o">:=</span> <span class="n">p</span><span class="o">.</span><span class="n">test</span>

    <span class="n">n</span><span class="o">++</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="n">f1</span><span class="p">()</span>
    <span class="n">f2</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：13 11 12</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：方法值。</p>

<p>当指针值赋值给变量或者作为函数参数传递时，会立即计算并复制该方法执行所需的接收者对象，与其绑定，以便在稍后执行时，能隐式第传入接收者参数。</p>

<h3 id="137-下面哪一行代码会-panic请说明原因"><span class="me-2">137. 下面哪一行代码会 panic，请说明原因？</span><a href="#137-下面哪一行代码会-panic请说明原因" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">var</span> <span class="n">x</span> <span class="k">interface</span><span class="p">{}</span>
  <span class="k">var</span> <span class="n">y</span> <span class="k">interface</span><span class="p">{}</span> <span class="o">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">3</span><span class="p">,</span> <span class="m">5</span><span class="p">}</span>
  <span class="n">_</span> <span class="o">=</span> <span class="n">x</span> <span class="o">==</span> <span class="n">x</span>
  <span class="n">_</span> <span class="o">=</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span>
  <span class="n">_</span> <span class="o">=</span> <span class="n">y</span> <span class="o">==</span> <span class="n">y</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：第 8 行</strong></p>

<p><strong>解析：</strong></p>

<p>因为两个比较值的动态类型为同一个不可比较类型。</p>

<h3 id="138-下面的代码输出什么"><span class="me-2">138. 下面的代码输出什么？</span><a href="#138-下面的代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">o</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">int</span><span class="p">,</span> <span class="m">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="k">range</span> <span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="k">struct</span><span class="p">{}{}</span> <span class="p">{</span>
        <span class="k">select</span> <span class="p">{</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="n">o</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">&lt;-</span><span class="n">c</span><span class="o">:</span>
            <span class="n">o</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
            <span class="n">c</span> <span class="o">=</span> <span class="no">nil</span>
        <span class="k">case</span> <span class="n">c</span> <span class="o">&lt;-</span> <span class="m">1</span><span class="o">:</span>
            <span class="n">o</span><span class="p">(</span><span class="m">3</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：321</strong></p>

<p><strong>解析：</strong></p>

<p>第一次循环，写操作已经准备好，执行 o(3)，输出 3；</p>

<p>第二次，读操作准备好，执行 o(2)，输出 2 并将 c 赋值为 nil；</p>

<p>第三次，由于 c 为 nil，走的是 default 分支，输出 1。</p>

<h3 id="139-下面的代码输出什么"><span class="me-2">139. 下面的代码输出什么？</span><a href="#139-下面的代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">T</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">x</span> <span class="kt">int</span>
    <span class="n">y</span> <span class="o">*</span><span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="n">i</span> <span class="o">:=</span> <span class="m">20</span>
    <span class="n">t</span> <span class="o">:=</span> <span class="n">T</span><span class="p">{</span><span class="m">10</span><span class="p">,</span><span class="o">&amp;</span><span class="n">i</span><span class="p">}</span>

    <span class="n">p</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">t</span><span class="o">.</span><span class="n">x</span>

    <span class="o">*</span><span class="n">p</span><span class="o">++</span>
    <span class="o">*</span><span class="n">p</span><span class="o">--</span>

    <span class="n">t</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">p</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="o">*</span><span class="n">t</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：10</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：运算符优先级。</p>

<p>如下规则：递增运算符 ++ 和递减运算符 – 的优先级低于解引用运算符 * 和取址运算符 &amp;，解引用运算符和取址运算符的优先级低于选择器 . 中的属性选择操作符。</p>

<h3 id="140-下面哪一行代码会-panic请说明原因"><span class="me-2">140. 下面哪一行代码会 panic，请说明原因？</span><a href="#140-下面哪一行代码会-panic请说明原因" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">10</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="m">6</span><span class="o">:</span><span class="m">10</span><span class="p">]</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="m">6</span><span class="o">:</span><span class="p">]</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="m">2</span><span class="o">:</span><span class="p">]</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：第 6 行</strong></p>

<p><strong>解析：</strong></p>

<p>第 6 行，截取符号 [i:j]，如果 j 省略，默认是原切片或者数组的长度，x 的长度是 2，小于起始下标 6 ，所以 panic。</p>

<h3 id="141-下面的代码输出什么"><span class="me-2">141. 下面的代码输出什么？</span><a href="#141-下面的代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">N</span> <span class="kt">int</span>

<span class="k">func</span> <span class="p">(</span><span class="n">n</span> <span class="o">*</span><span class="n">N</span><span class="p">)</span> <span class="n">test</span><span class="p">(){</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="o">*</span><span class="n">n</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span>  <span class="p">{</span>
    <span class="k">var</span> <span class="n">n</span> <span class="n">N</span> <span class="o">=</span> <span class="m">10</span>
    <span class="n">p</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">n</span>

    <span class="n">n</span><span class="o">++</span>
    <span class="n">f1</span> <span class="o">:=</span> <span class="n">n</span><span class="o">.</span><span class="n">test</span>

    <span class="n">n</span><span class="o">++</span>
    <span class="n">f2</span> <span class="o">:=</span> <span class="n">p</span><span class="o">.</span><span class="n">test</span>

    <span class="n">n</span><span class="o">++</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="n">f1</span><span class="p">()</span>
    <span class="n">f2</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：13 13 13</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：方法值。</p>

<p>当目标方法的接收者是指针类型时，那么被复制的就是指针。</p>

<h3 id="142-下面哪一行代码会-panic请说明原因"><span class="me-2">142. 下面哪一行代码会 panic，请说明原因？</span><a href="#142-下面哪一行代码会-panic请说明原因" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">var</span> <span class="n">m</span> <span class="k">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">bool</span> <span class="c">// nil</span>
  <span class="n">_</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="m">123</span><span class="p">]</span>
  <span class="k">var</span> <span class="n">p</span> <span class="o">*</span><span class="p">[</span><span class="m">5</span><span class="p">]</span><span class="kt">string</span> <span class="c">// nil</span>
  <span class="k">for</span> <span class="k">range</span> <span class="n">p</span> <span class="p">{</span>
    <span class="n">_</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="k">var</span> <span class="n">s</span> <span class="p">[]</span><span class="kt">int</span> <span class="c">// nil</span>
  <span class="n">_</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="o">:</span><span class="p">]</span>
  <span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">},</span> <span class="m">9</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：第 12 行</strong></p>

<p><strong>解析：</strong></p>

<p>因为左侧的 s[0] 中的 s 为 nil。</p>

<h3 id="143-下面哪一行代码会-panic请说明原因"><span class="me-2">143. 下面哪一行代码会 panic，请说明原因？</span><a href="#143-下面哪一行代码会-panic请说明原因" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">type</span> <span class="n">T</span> <span class="k">struct</span><span class="p">{}</span>

<span class="k">func</span> <span class="p">(</span><span class="o">*</span><span class="n">T</span><span class="p">)</span> <span class="n">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">T</span><span class="p">)</span> <span class="n">bar</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">S</span> <span class="k">struct</span> <span class="p">{</span>
  <span class="o">*</span><span class="n">T</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">s</span> <span class="o">:=</span> <span class="n">S</span><span class="p">{}</span>
  <span class="n">_</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">foo</span>
  <span class="n">s</span><span class="o">.</span><span class="n">foo</span><span class="p">()</span>
  <span class="n">_</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">bar</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：第 19 行</strong></p>

<p><strong>解析：</strong></p>

<p>因为 s.bar 将被展开为 (*s.T).bar，而 s.T 是个空指针，解引用会 panic。</p>

<p>可以使用下面代码输出 s：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">s</span> <span class="o">:=</span> <span class="n">S</span><span class="p">{}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%#v"</span><span class="p">,</span><span class="n">s</span><span class="p">)</span>   <span class="c">// 输出：main.S{T:(*main.T)(nil)}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="144-下面的代码有什么问题"><span class="me-2">144. 下面的代码有什么问题？</span><a href="#144-下面的代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">data</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">sync</span><span class="o">.</span><span class="n">Mutex</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">d</span> <span class="n">data</span><span class="p">)</span> <span class="n">test</span><span class="p">(</span><span class="n">s</span> <span class="kt">string</span><span class="p">)</span>  <span class="p">{</span>
    <span class="n">d</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>
    <span class="k">defer</span> <span class="n">d</span><span class="o">.</span><span class="n">Unlock</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">i</span><span class="o">:=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="m">5</span> <span class="p">;</span><span class="n">i</span><span class="o">++</span>  <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">Sleep</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">var</span> <span class="n">wg</span> <span class="n">sync</span><span class="o">.</span><span class="n">WaitGroup</span>
    <span class="n">wg</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
    <span class="k">var</span> <span class="n">d</span> <span class="n">data</span>

    <span class="k">go</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">defer</span> <span class="n">wg</span><span class="o">.</span><span class="n">Done</span><span class="p">()</span>
        <span class="n">d</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="s">"read"</span><span class="p">)</span>
    <span class="p">}()</span>

    <span class="k">go</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">defer</span> <span class="n">wg</span><span class="o">.</span><span class="n">Done</span><span class="p">()</span>
        <span class="n">d</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="s">"write"</span><span class="p">)</span>
    <span class="p">}()</span>

    <span class="n">wg</span><span class="o">.</span><span class="n">Wait</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：锁失效</strong></p>

<p><strong>解析：</strong></p>

<p>将 Mutex 作为匿名字段时，相关的方法必须使用指针接收者，否则会导致锁机制失效。</p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="p">(</span><span class="n">d</span> <span class="o">*</span><span class="n">data</span><span class="p">)</span> <span class="n">test</span><span class="p">(</span><span class="n">s</span> <span class="kt">string</span><span class="p">)</span>  <span class="p">{</span>     <span class="c">// 指针接收者</span>
    <span class="n">d</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>
    <span class="k">defer</span> <span class="n">d</span><span class="o">.</span><span class="n">Unlock</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">i</span><span class="o">:=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="m">5</span> <span class="p">;</span><span class="n">i</span><span class="o">++</span>  <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">Sleep</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>或者可以通过嵌入 <code class="language-plaintext highlighter-rouge">*Mutex</code> 来避免复制的问题，但需要初始化。</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">data</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="o">*</span><span class="n">sync</span><span class="o">.</span><span class="n">Mutex</span>     <span class="c">// *Mutex</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">d</span> <span class="n">data</span><span class="p">)</span> <span class="n">test</span><span class="p">(</span><span class="n">s</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>    <span class="c">// 值方法</span>
    <span class="n">d</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>
    <span class="k">defer</span> <span class="n">d</span><span class="o">.</span><span class="n">Unlock</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">Sleep</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">var</span> <span class="n">wg</span> <span class="n">sync</span><span class="o">.</span><span class="n">WaitGroup</span>
    <span class="n">wg</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>

    <span class="n">d</span> <span class="o">:=</span> <span class="n">data</span><span class="p">{</span><span class="nb">new</span><span class="p">(</span><span class="n">sync</span><span class="o">.</span><span class="n">Mutex</span><span class="p">)}</span>   <span class="c">// 初始化</span>

    <span class="k">go</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">defer</span> <span class="n">wg</span><span class="o">.</span><span class="n">Done</span><span class="p">()</span>
        <span class="n">d</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="s">"read"</span><span class="p">)</span>
    <span class="p">}()</span>

    <span class="k">go</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">defer</span> <span class="n">wg</span><span class="o">.</span><span class="n">Done</span><span class="p">()</span>
        <span class="n">d</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="s">"write"</span><span class="p">)</span>
    <span class="p">}()</span>

    <span class="n">wg</span><span class="o">.</span><span class="n">Wait</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="145-下面这段代码输出什么"><span class="me-2">145. 下面这段代码输出什么？</span><a href="#145-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">k</span> <span class="o">=</span> <span class="m">1</span>
    <span class="k">var</span> <span class="n">s</span> <span class="o">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">}</span>
    <span class="n">k</span><span class="p">,</span> <span class="n">s</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span> <span class="m">3</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="m">1</span><span class="p">])</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：4</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：多重赋值。</p>

<p>多重赋值分为两个步骤，有先后顺序：</p>

<ul>
  <li>计算等号左边的索引表达式和取址表达式，接着计算等号右边的表达式；</li>
  <li>赋值；</li>
</ul>

<p>所以本例，会先计算 s[k]，等号右边是两个表达式是常量，所以赋值运算等同于 <code class="language-plaintext highlighter-rouge">k, s[1] = 0, 3</code>。</p>

<h3 id="146-下面代码输出什么"><span class="me-2">146. 下面代码输出什么？</span><a href="#146-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">k</span> <span class="o">=</span> <span class="m">9</span>
    <span class="k">for</span> <span class="n">k</span> <span class="o">=</span> <span class="k">range</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{}</span> <span class="p">{}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">k</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="m">3</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span> <span class="p">{</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>


    <span class="k">for</span> <span class="n">k</span> <span class="o">=</span> <span class="k">range</span> <span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="kt">int</span><span class="p">)(</span><span class="no">nil</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：932</strong></p>

<h3 id="147-下面哪一行代码会-panic请说明"><span class="me-2">147. 下面哪一行代码会 panic，请说明。</span><a href="#147-下面哪一行代码会-panic请说明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="no">nil</span> <span class="o">:=</span> <span class="m">123</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="no">nil</span><span class="p">)</span>
    <span class="k">var</span> <span class="n">_</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span> <span class="o">=</span> <span class="no">nil</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：第 4 行</strong></p>

<p><strong>解析：</strong></p>

<p>当前作用域中，预定义的 nil 被覆盖，此时 nil 是 int 类型值，不能赋值给 map 类型。</p>

<h3 id="148-下面代码输出什么"><span class="me-2">148. 下面代码输出什么？</span><a href="#148-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">x</span> <span class="kt">int8</span> <span class="o">=</span> <span class="o">-</span><span class="m">128</span>
    <span class="k">var</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">/-</span><span class="m">1</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：-128</strong></p>

<p><strong>解析：</strong></p>

<p>溢出</p>

<h3 id="149-下面选项正确的是"><span class="me-2">149. 下面选项正确的是？</span><a href="#149-下面选项正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. 类型可以声明的函数体内；</li>
  <li>B. Go 语言支持 ++i 或者 –i 操作；</li>
  <li>C. nil 是关键字；</li>
  <li>D. 匿名函数可以直接赋值给一个变量或者直接执行；</li>
</ul>

<p><strong>答：A D</strong></p>

<h3 id="150-下面的代码输出什么"><span class="me-2">150. 下面的代码输出什么？</span><a href="#150-下面的代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">F</span><span class="p">(</span><span class="n">n</span> <span class="kt">int</span><span class="p">)</span> <span class="k">func</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">func</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span>
        <span class="n">n</span><span class="o">++</span>
        <span class="k">return</span> <span class="n">n</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">f</span> <span class="o">:=</span> <span class="n">F</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">f</span><span class="p">())</span>
    <span class="p">}()</span>
    <span class="k">defer</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">f</span><span class="p">())</span>
    <span class="n">i</span> <span class="o">:=</span> <span class="n">f</span><span class="p">()</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：768</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：<code class="language-plaintext highlighter-rouge">匿名函数</code>、<code class="language-plaintext highlighter-rouge">defer()</code>。</p>

<p>defer() 后面的函数如果带参数，会优先计算参数，并将结果存储在栈中，到真正执行 defer() 的时候取出。</p>

<h2 id="151180"><span class="me-2">151~180</span><a href="#151180" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="151-下面列举的是-recover-的几种调用方式哪些是正确的"><span class="me-2">151. 下面列举的是 recover() 的几种调用方式，哪些是正确的？</span><a href="#151-下面列举的是-recover-的几种调用方式哪些是正确的" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>
    <p>A</p>

    <div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">recover</span><span class="p">()</span>
    <span class="nb">panic</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p>B</p>

    <div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">defer</span> <span class="nb">recover</span><span class="p">()</span>
    <span class="nb">panic</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p>C</p>

    <div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="nb">recover</span><span class="p">()</span>
    <span class="p">}()</span>
    <span class="nb">panic</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p>D</p>

    <div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
            <span class="nb">recover</span><span class="p">()</span>
        <span class="p">}()</span>
    <span class="p">}()</span>
    <span class="nb">panic</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
</ul>

<p><strong>答：C</strong></p>

<p><strong>解析：</strong></p>

<p>recover() 必须在 defer() 函数中直接调用才有效。上面其他几种情况调用都是无效的：直接调用 recover()、在 defer() 中直接调用 recover() 和 defer() 调用时多层嵌套。</p>

<h3 id="152-下面代码输出什么请说明"><span class="me-2">152. 下面代码输出什么，请说明？</span><a href="#152-下面代码输出什么请说明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="nb">recover</span><span class="p">())</span>
    <span class="p">}()</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">defer</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="nb">recover</span><span class="p">())</span>
        <span class="nb">panic</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
    <span class="p">}()</span>
    <span class="k">defer</span> <span class="nb">recover</span><span class="p">()</span>
    <span class="nb">panic</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：21</strong></p>

<p><strong>解析：</strong></p>

<p>recover() 必须在 defer() 函数中调用才有效，所以第 9 行代码捕获是无效的。在调用 defer() 时，便会计算函数的参数并压入栈中，所以执行第 6 行代码时，此时便会捕获 panic(2)；此后的 panic(1)，会被上一层的 recover() 捕获。所以输出 21。</p>

<h3 id="153-flag-是-bool-型变量下面-if-表达式符合编码规范的是"><span class="me-2">153. flag 是 bool 型变量，下面 if 表达式符合编码规范的是？</span><a href="#153-flag-是-bool-型变量下面-if-表达式符合编码规范的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. if flag == 1</li>
  <li>B. if flag</li>
  <li>C. if flag == false</li>
  <li>D. if !flag</li>
</ul>

<p><strong>答：B C D</strong></p>

<h3 id="154-下面的代码输出什么请说明"><span class="me-2">154. 下面的代码输出什么，请说明？</span><a href="#154-下面的代码输出什么请说明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="nb">recover</span><span class="p">())</span>
    <span class="p">}()</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="nb">recover</span><span class="p">())</span>
        <span class="p">}()</span>
        <span class="nb">panic</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
    <span class="p">}()</span>
    <span class="k">defer</span> <span class="nb">recover</span><span class="p">()</span>
    <span class="nb">panic</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：12</strong></p>

<p><strong>解析：</strong></p>

<p>152 题与之类似</p>

<h3 id="155-下面的代码输出什么"><span class="me-2">155. 下面的代码输出什么？</span><a href="#155-下面的代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">T</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">n</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ts</span> <span class="o">:=</span> <span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="n">T</span><span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">t</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">ts</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="n">i</span> <span class="p">{</span>
        <span class="k">case</span> <span class="m">0</span><span class="o">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="m">3</span>
            <span class="n">ts</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="m">9</span>
        <span class="k">case</span> <span class="m">1</span><span class="o">:</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="s">" "</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：0 [{0} {9}]</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：for-range 循环数组。</p>

<p>此时使用的是数组 ts 的副本，所以 t.n = 3 的赋值操作不会影响原数组。</p>

<h3 id="156-下面的代码输出什么"><span class="me-2">156. 下面的代码输出什么？</span><a href="#156-下面的代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">T</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">n</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ts</span> <span class="o">:=</span> <span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="n">T</span><span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">t</span> <span class="o">:=</span> <span class="k">range</span> <span class="o">&amp;</span><span class="n">ts</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="n">i</span> <span class="p">{</span>
        <span class="k">case</span> <span class="m">0</span><span class="o">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="m">3</span>
            <span class="n">ts</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="m">9</span>
        <span class="k">case</span> <span class="m">1</span><span class="o">:</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="s">" "</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：9 [{0} {9}]</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：for-range 数组指针。</p>

<p>for-range 循环中的循环变量 t 是原数组元素的副本。如果数组元素是结构体值，则副本的字段和原数组字段是两个不同的值。</p>

<h3 id="157-下面的代码输出什么"><span class="me-2">157. 下面的代码输出什么？</span><a href="#157-下面的代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">T</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">n</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ts</span> <span class="o">:=</span> <span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="n">T</span><span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">ts</span><span class="p">[</span><span class="o">:</span><span class="p">]</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="n">i</span> <span class="p">{</span>
        <span class="k">case</span> <span class="m">0</span><span class="o">:</span>
            <span class="n">ts</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="m">9</span>
        <span class="k">case</span> <span class="m">1</span><span class="o">:</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">ts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="s">" "</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：9 [{0} {9}]</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：for-range 切片。</p>

<p>for-range 切片时使用的是切片的副本，但不会复制底层数组，换句话说，此副本切片与原数组共享底层数组。</p>

<h3 id="158-下面的代码输出什么"><span class="me-2">158. 下面的代码输出什么？</span><a href="#158-下面的代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">T</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">n</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ts</span> <span class="o">:=</span> <span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="n">T</span><span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">ts</span><span class="p">[</span><span class="o">:</span><span class="p">]</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="n">t</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">ts</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span> <span class="p">{</span>
        <span class="k">case</span> <span class="m">0</span><span class="o">:</span>
            <span class="n">t</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="m">3</span><span class="p">;</span>
            <span class="n">ts</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="m">9</span>
        <span class="k">case</span> <span class="m">1</span><span class="o">:</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="s">" "</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：9 [{3} {9}]</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：for-range 切片。参考前几道题的解析，这道题的答案应该很明显。</p>

<h3 id="159-下面代码有什么问题吗"><span class="me-2">159. 下面代码有什么问题吗？</span><a href="#159-下面代码有什么问题吗" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span>  <span class="p">{</span>

    <span class="k">for</span> <span class="n">i</span><span class="o">:=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="m">10</span> <span class="p">;</span><span class="n">i</span><span class="o">++</span>  <span class="p">{</span>
    <span class="n">loop</span><span class="o">:</span>
        <span class="nb">println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">goto</span> <span class="n">loop</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>goto 不能跳转到其他函数或者内层代码。编译报错：</p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>goto loop jumps into block starting at
</pre></td></tr></tbody></table></code></div></div>

<h3 id="160-下面代码输出什么请说明"><span class="me-2">160. 下面代码输出什么，请说明。</span><a href="#160-下面代码输出什么请说明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">}</span>
    <span class="n">y</span> <span class="o">:=</span> <span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="o">*</span><span class="kt">int</span><span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">x</span> <span class="p">{</span>
        <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="p">}()</span>
        <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">v</span>
    <span class="p">}</span>
    <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">y</span><span class="p">[</span><span class="m">0</span><span class="p">],</span> <span class="o">*</span><span class="n">y</span><span class="p">[</span><span class="m">1</span><span class="p">],</span> <span class="o">*</span><span class="n">y</span><span class="p">[</span><span class="m">2</span><span class="p">])</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：22222</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：defer()、for-range。</p>

<p>for-range 虽然使用的是 :=，但是 v 不会重新声明，可以打印 v 的地址验证下。</p>

<h3 id="161-关于-slice-或-map-操作下面正确的是"><span class="me-2">161. 关于 slice 或 map 操作，下面正确的是？</span><a href="#161-关于-slice-或-map-操作下面正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>
    <p>A</p>

    <div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">s</span> <span class="p">[]</span><span class="kt">int</span>
<span class="n">s</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="m">1</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p>B</p>

    <div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">m</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span>
<span class="n">m</span><span class="p">[</span><span class="s">"one"</span><span class="p">]</span> <span class="o">=</span> <span class="m">1</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p>C</p>

    <div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">s</span> <span class="p">[]</span><span class="kt">int</span>
<span class="n">s</span> <span class="o">=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="m">1</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li>
    <p>D</p>

    <div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">m</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span>
<span class="n">m</span> <span class="o">=</span> <span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">)</span>
<span class="n">m</span><span class="p">[</span><span class="s">"one"</span><span class="p">]</span> <span class="o">=</span> <span class="m">1</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
</ul>

<p><strong>答：A C D</strong></p>

<h3 id="162-下面代码输出什么"><span class="me-2">162. 下面代码输出什么？</span><a href="#162-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">test</span><span class="p">(</span><span class="n">x</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="k">func</span><span class="p">(),</span> <span class="k">func</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="nb">println</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">+=</span> <span class="m">10</span>
    <span class="p">},</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="nb">println</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">:=</span> <span class="n">test</span><span class="p">(</span><span class="m">100</span><span class="p">)</span>
    <span class="n">a</span><span class="p">()</span>
    <span class="n">b</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：100 110</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：闭包引用相同变量。</p>

<h3 id="163-关于字符串连接下面语法正确的是"><span class="me-2">163. 关于字符串连接，下面语法正确的是？</span><a href="#163-关于字符串连接下面语法正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. str := ‘abc’ + ‘123’</li>
  <li>B. str := “abc” + “123”</li>
  <li>C. str ：= ‘123’ + “abc”</li>
  <li>D. fmt.Sprintf(“abc%d”, 123)</li>
</ul>

<p><strong>答：B D</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：单引号、双引号和字符串连接。</p>

<p>在 Go 语言中，双引号用来表示字符串 string，其实质是一个 byte 类型的数组，单引号表示 rune 类型。</p>

<h3 id="164-下面代码能编译通过吗可以的话输出什么"><span class="me-2">164. 下面代码能编译通过吗？可以的话，输出什么？</span><a href="#164-下面代码能编译通过吗可以的话输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="nb">println</span><span class="p">(</span><span class="n">DeferTest1</span><span class="p">(</span><span class="m">1</span><span class="p">))</span>
    <span class="nb">println</span><span class="p">(</span><span class="n">DeferTest2</span><span class="p">(</span><span class="m">1</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">DeferTest1</span><span class="p">(</span><span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="n">r</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">i</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">r</span> <span class="o">+=</span> <span class="m">3</span>
    <span class="p">}()</span>
    <span class="k">return</span> <span class="n">r</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">DeferTest2</span><span class="p">(</span><span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="n">r</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">r</span> <span class="o">+=</span> <span class="n">i</span>
    <span class="p">}()</span>
    <span class="k">return</span> <span class="m">2</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：43</strong></p>

<h3 id="165-判断题对变量-x-的取反操作是-x"><span class="me-2">165. 判断题：对变量 x 的取反操作是 ~x？</span><a href="#165-判断题对变量-x-的取反操作是-x" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><strong>答：错</strong></p>

<p><strong>解析：</strong></p>

<p>Go 语言的取反操作是 <code class="language-plaintext highlighter-rouge">^</code>，它返回一个每个 bit 位都取反的数。作用类似在 C、C#、Java 语言中中符号 ~，对于有符号的整数来说，是按照补码进行取反操作的（快速计算方法：对数 a 取反，结果为 -(a+1) ），对于无符号整数来说就是按位取反。</p>

<h3 id="166-下面代码输出什么请说明原因"><span class="me-2">166. 下面代码输出什么，请说明原因。</span><a href="#166-下面代码输出什么请说明原因" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">Slice</span> <span class="p">[]</span><span class="kt">int</span>

<span class="k">func</span> <span class="n">NewSlice</span><span class="p">()</span> <span class="n">Slice</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">make</span><span class="p">(</span><span class="n">Slice</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">s</span> <span class="o">*</span><span class="n">Slice</span><span class="p">)</span> <span class="n">Add</span><span class="p">(</span><span class="n">elem</span> <span class="kt">int</span><span class="p">)</span> <span class="o">*</span><span class="n">Slice</span> <span class="p">{</span>
    <span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="n">elem</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span>
<span class="p">}</span>
<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">s</span> <span class="o">:=</span> <span class="n">NewSlice</span><span class="p">()</span>
    <span class="k">defer</span> <span class="n">s</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
    <span class="n">s</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="m">3</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：132</strong></p>

<p><strong>解析：</strong></p>

<p>这一题有两点需要注意：</p>

<ol>
  <li>Add() 方法的返回值依然是指针类型 *Slice，所以可以循环调用方法 Add()；</li>
  <li>defer 函数的参数（包括接收者）是在 defer 语句出现的位置做计算的，而不是在函数执行的时候计算的，所以 s.Add(1) 会先于 s.Add(3) 执行。</li>
</ol>

<h3 id="167-下面的代码输出什么请说明"><span class="me-2">167. 下面的代码输出什么，请说明。</span><a href="#167-下面的代码输出什么请说明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">Slice</span> <span class="p">[]</span><span class="kt">int</span>

<span class="k">func</span> <span class="n">NewSlice</span><span class="p">()</span> <span class="n">Slice</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">make</span><span class="p">(</span><span class="n">Slice</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">s</span> <span class="o">*</span><span class="n">Slice</span><span class="p">)</span> <span class="n">Add</span><span class="p">(</span><span class="n">elem</span> <span class="kt">int</span><span class="p">)</span> <span class="o">*</span><span class="n">Slice</span> <span class="p">{</span>
    <span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="n">elem</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span>
<span class="p">}</span>
<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">s</span> <span class="o">:=</span> <span class="n">NewSlice</span><span class="p">()</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">s</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
    <span class="p">}()</span>
    <span class="n">s</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="m">3</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：312</strong></p>

<p><strong>解析：</strong></p>

<p>对比昨天的第<code class="language-plaintext highlighter-rouge">166</code>题，本题的 s.Add(1).Add(2) 作为一个整体包在一个匿名函数中，会延迟执行。</p>

<h3 id="168-下面的代码输出什么请说明"><span class="me-2">168. 下面的代码输出什么，请说明？</span><a href="#168-下面的代码输出什么请说明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">Orange</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">Quantity</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">o</span> <span class="o">*</span><span class="n">Orange</span><span class="p">)</span> <span class="n">Increase</span><span class="p">(</span><span class="n">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">o</span><span class="o">.</span><span class="n">Quantity</span> <span class="o">+=</span> <span class="n">n</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">o</span> <span class="o">*</span><span class="n">Orange</span><span class="p">)</span> <span class="n">Decrease</span><span class="p">(</span><span class="n">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">o</span><span class="o">.</span><span class="n">Quantity</span> <span class="o">-=</span> <span class="n">n</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">o</span> <span class="o">*</span><span class="n">Orange</span><span class="p">)</span> <span class="n">String</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%#v"</span><span class="p">,</span> <span class="n">o</span><span class="o">.</span><span class="n">Quantity</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">orange</span> <span class="n">Orange</span>
    <span class="n">orange</span><span class="o">.</span><span class="n">Increase</span><span class="p">(</span><span class="m">10</span><span class="p">)</span>
    <span class="n">orange</span><span class="o">.</span><span class="n">Decrease</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">orange</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：{5}</strong></p>

<p><strong>解析：</strong></p>

<p>这道题容易忽视的点是，String() 是指针方法，而不是值方法，所以使用 Println() 输出时不会调用到 String() 方法。</p>

<p>可以这样修复：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">orange</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">Orange</span><span class="p">{}</span>
    <span class="n">orange</span><span class="o">.</span><span class="n">Increase</span><span class="p">(</span><span class="m">10</span><span class="p">)</span>
    <span class="n">orange</span><span class="o">.</span><span class="n">Decrease</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">orange</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="169-下面代码输出什么"><span class="me-2">169. 下面代码输出什么？</span><a href="#169-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">test</span><span class="p">()</span> <span class="p">[]</span><span class="k">func</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">funs</span> <span class="p">[]</span><span class="k">func</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">2</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="n">funs</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">funs</span><span class="p">,</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
            <span class="nb">println</span><span class="p">(</span><span class="o">&amp;</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
        <span class="p">})</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">funs</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">funs</span> <span class="o">:=</span> <span class="n">test</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">f</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">funs</span> <span class="p">{</span>
        <span class="n">f</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>10xc000018058 2
20xc000018058 2
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>知识点：闭包延迟求值。for 循环局部变量 i，匿名函数每一次使用的都是同一个变量。（说明：i 的地址，输出可能与上面的不一样）。</p>

<h3 id="170-下面的代码能编译通过吗可以的话输出什么请说明"><span class="me-2">170. 下面的代码能编译通过吗？可以的话输出什么，请说明？</span><a href="#170-下面的代码能编译通过吗可以的话输出什么请说明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">f</span> <span class="o">=</span> <span class="k">func</span><span class="p">(</span><span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">print</span><span class="p">(</span><span class="s">"x"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">f</span> <span class="o">:=</span> <span class="k">func</span><span class="p">(</span><span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="p">{</span>
            <span class="n">f</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="m">1</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">f</span><span class="p">(</span><span class="m">10</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：10x</strong></p>

<p><strong>解析：</strong></p>

<p>这道题一眼看上去会输出 109876543210，其实这是错误的答案，这里不是递归。假设 main() 函数里为 f2()，外面的为 f1()，当声明 f2() 时，调用的是已经完成声明的 f1()。</p>

<p>看下面这段代码你应该会更容易理解一点：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">x</span> <span class="o">=</span> <span class="m">23</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">:=</span> <span class="m">2</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="m">4</span>
    <span class="nb">println</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>    <span class="c">// 输出:42</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="171-下面代码有什么问题请说明"><span class="me-2">171. 下面代码有什么问题，请说明？</span><a href="#171-下面代码有什么问题请说明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">runtime</span><span class="o">.</span><span class="n">GOMAXPROCS</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>

    <span class="k">go</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">for</span> <span class="n">i</span><span class="o">:=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="m">10</span> <span class="p">;</span><span class="n">i</span><span class="o">++</span>  <span class="p">{</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}()</span>

    <span class="k">for</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：</strong> <a href="https://github.com/yqchilde/Golang-Interview/issues/11">讨论 #11</a></p>

<p>以上代码在 go1.14 版本之前(不含 1.14 版本): for {} 独占 CPU 资源导致其他 Goroutine 饿死，</p>

<p>在 go1.14 版本之后(包含 go1.14): 会打印 0123456789, 并且主程会进入死循环</p>

<p><strong>解析：</strong></p>

<p>可以通过阻塞的方式避免 CPU 占用，修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">runtime</span><span class="o">.</span><span class="n">GOMAXPROCS</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>

    <span class="k">go</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">for</span> <span class="n">i</span><span class="o">:=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="m">10</span> <span class="p">;</span><span class="n">i</span><span class="o">++</span>  <span class="p">{</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="n">os</span><span class="o">.</span><span class="n">Exit</span><span class="p">(</span><span class="m">0</span><span class="p">)</span>
    <span class="p">}()</span>

    <span class="k">select</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="172-假设-x-已声明y-未声明下面-4-行代码哪些是正确的错误的请说明原因"><span class="me-2">172. 假设 x 已声明，y 未声明，下面 4 行代码哪些是正确的。错误的请说明原因？</span><a href="#172-假设-x-已声明y-未声明下面-4-行代码哪些是正确的错误的请说明原因" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="n">x</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">f</span><span class="p">()</span>  <span class="c">// 1</span>
<span class="n">x</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="p">()</span>  <span class="c">// 2</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">:=</span> <span class="n">f</span><span class="p">()</span>  <span class="c">// 3</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">f</span><span class="p">()</span>  <span class="c">// 4</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：2、3 正确</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：简短变量声明。使用简短变量声明有几个需要注意的地方：</p>

<ul>
  <li>只能用于函数内部；</li>
  <li>短变量声明语句中至少要声明一个新的变量；</li>
</ul>

<h3 id="173-下面的代码有什么问题请说明"><span class="me-2">173. 下面的代码有什么问题，请说明？</span><a href="#173-下面的代码有什么问题请说明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">f</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">os</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="s">"file"</span><span class="p">)</span>
    <span class="k">defer</span> <span class="n">f</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="k">return</span>
    <span class="p">}</span>

    <span class="n">b</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="nb">println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：defer 语句应该放在 if() 语句后面，先判断 err，再 defer 关闭文件句柄。</strong></p>

<p><strong>解析：</strong></p>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">f</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">os</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="s">"file"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">f</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="n">b</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="nb">println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="174-下面代码输出什么为什么"><span class="me-2">174. 下面代码输出什么，为什么？</span><a href="#174-下面代码输出什么为什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">f</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">r</span> <span class="o">:=</span> <span class="nb">recover</span><span class="p">();</span> <span class="n">r</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"recover:%#v"</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}()</span>
    <span class="nb">panic</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
    <span class="nb">panic</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">f</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：recover:1</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：<code class="language-plaintext highlighter-rouge">panic</code>、<code class="language-plaintext highlighter-rouge">recover()</code>。</p>

<p>当程序 panic 时就不会往下执行，可以使用 recover() 捕获 panic 的内容。</p>

<h3 id="175-下面这段代码输出什么"><span class="me-2">175. 下面这段代码输出什么？</span><a href="#175-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">S1</span> <span class="k">struct</span><span class="p">{}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">s1</span> <span class="n">S1</span><span class="p">)</span> <span class="n">f</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"S1.f()"</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">s1</span> <span class="n">S1</span><span class="p">)</span> <span class="n">g</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"S1.g()"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">S2</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">S1</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">s2</span> <span class="n">S2</span><span class="p">)</span> <span class="n">f</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"S2.f()"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">I</span> <span class="k">interface</span> <span class="p">{</span>
    <span class="n">f</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">printType</span><span class="p">(</span><span class="n">i</span> <span class="n">I</span><span class="p">)</span> <span class="p">{</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%T</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">s1</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">i</span><span class="o">.</span><span class="p">(</span><span class="n">S1</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
        <span class="n">s1</span><span class="o">.</span><span class="n">f</span><span class="p">()</span>
        <span class="n">s1</span><span class="o">.</span><span class="n">g</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="n">s2</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">i</span><span class="o">.</span><span class="p">(</span><span class="n">S2</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
        <span class="n">s2</span><span class="o">.</span><span class="n">f</span><span class="p">()</span>
        <span class="n">s2</span><span class="o">.</span><span class="n">g</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">printType</span><span class="p">(</span><span class="n">S1</span><span class="p">{})</span>
    <span class="n">printType</span><span class="p">(</span><span class="n">S2</span><span class="p">{})</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>main.S1
S1.f<span class="o">()</span>
S1.g<span class="o">()</span>
main.S2
S2.f<span class="o">()</span>
S1.g<span class="o">()</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>知识点：类型断言，结构体嵌套。</p>

<p>结构体 S2 嵌套了结构体 S1，S2 自己没有实现 g() ，调用的是 S1 的 g()。</p>

<h3 id="176-下面的代码有什么问题"><span class="me-2">176. 下面的代码有什么问题？</span><a href="#176-下面的代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">wg</span> <span class="n">sync</span><span class="o">.</span><span class="n">WaitGroup</span>
    <span class="n">wg</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
    <span class="k">go</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"1"</span><span class="p">)</span>
        <span class="n">wg</span><span class="o">.</span><span class="n">Done</span><span class="p">()</span>
        <span class="n">wg</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
    <span class="p">}()</span>
    <span class="n">wg</span><span class="o">.</span><span class="n">Wait</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>协程里面，使用 wg.Add(1) 但是没有 wg.Done()，导致 panic()。</p>

<h3 id="177-关于-cap-函数适用下面哪些类型"><span class="me-2">177. 关于 cap 函数适用下面哪些类型？</span><a href="#177-关于-cap-函数适用下面哪些类型" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. 数组；</li>
  <li>B. channel;</li>
  <li>C. map；</li>
  <li>D. slice；</li>
</ul>

<p><strong>答：A B D</strong></p>

<p><strong>解析：</strong></p>

<p><code class="language-plaintext highlighter-rouge">cap()</code>函数的作用是：</p>

<ul>
  <li>array 返回数组的元素个数</li>
  <li>slice 返回 slice 的最大容量</li>
  <li>channel 返回 channel 的容量</li>
</ul>

<h3 id="178-下面代码输出什么"><span class="me-2">178. 下面代码输出什么？</span><a href="#178-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">hello</span><span class="p">(</span><span class="n">num</span> <span class="o">...</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">num</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">=</span> <span class="m">18</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">Test13</span><span class="p">(</span><span class="n">t</span> <span class="o">*</span><span class="n">testing</span><span class="o">.</span><span class="n">T</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">i</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">7</span><span class="p">}</span>
    <span class="n">hello</span><span class="p">(</span><span class="n">i</span><span class="o">...</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="m">0</span><span class="p">])</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">t</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">testing</span><span class="o">.</span><span class="n">T</span><span class="p">{}</span>
    <span class="n">Test13</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. 18</li>
  <li>B. 5</li>
  <li>C. Compilation error</li>
</ul>

<p><strong>答：A</strong></p>

<p><strong>解析：</strong></p>

<p>可变函数是指针传递</p>

<h3 id="179-关于-switch-语句下面说法正确的是"><span class="me-2">179. 关于 switch 语句，下面说法正确的是？</span><a href="#179-关于-switch-语句下面说法正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. 单个 case 中，可以出现多个结果选项；</li>
  <li>B. 需要使用 break 来明确退出一个 case;</li>
  <li>C. 只有在 case 中明确添加 fallthrought 关键字，才会继续执行紧跟的下一个 case;</li>
  <li>D. 条件表达式必须为常量或者整数；</li>
</ul>

<p><strong>答：A C</strong></p>

<h3 id="180-下面代码能编译通过吗可以的话输出什么"><span class="me-2">180. 下面代码能编译通过吗？可以的话，输出什么？</span><a href="#180-下面代码能编译通过吗可以的话输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">alwaysFalse</span><span class="p">()</span> <span class="kt">bool</span> <span class="p">{</span>
    <span class="k">return</span> <span class="no">false</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="n">alwaysFalse</span><span class="p">()</span>
    <span class="p">{</span>
    <span class="k">case</span> <span class="no">true</span><span class="o">:</span>
        <span class="nb">println</span><span class="p">(</span><span class="no">true</span><span class="p">)</span>
    <span class="k">case</span> <span class="no">false</span><span class="o">:</span>
        <span class="nb">println</span><span class="p">(</span><span class="no">false</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：可以编译通过，输出：true</strong></p>

<p><strong>解析：</strong></p>

<p>Go 代码断行规则。</p>

<h2 id="181194"><span class="me-2">181~194</span><a href="#181194" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="181-interface-是可以指向任意对象的-any-类型是否正确"><span class="me-2">181. interface{} 是可以指向任意对象的 Any 类型，是否正确？</span><a href="#181-interface-是可以指向任意对象的-any-类型是否正确" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. false</li>
  <li>B. true</li>
</ul>

<p><strong>答：B</strong></p>

<h3 id="182-下面的代码有什么问题"><span class="me-2">182. 下面的代码有什么问题？</span><a href="#182-下面的代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">ConfigOne</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">Daemon</span> <span class="kt">string</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">c</span> <span class="o">*</span><span class="n">ConfigOne</span><span class="p">)</span> <span class="n">String</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"print: %v"</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">c</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">ConfigOne</span><span class="p">{}</span>
    <span class="n">c</span><span class="o">.</span><span class="n">String</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：无限递归循环，栈溢出。</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：类型的 String() 方法。如果类型定义了 String() 方法，使用 Printf()、Print() 、 Println() 、 Sprintf() 等格式化输出时会自动使用 String() 方法。</p>

<h3 id="183-定义一个包内全局字符串变量下面语法正确的是"><span class="me-2">183. 定义一个包内全局字符串变量，下面语法正确的是？</span><a href="#183-定义一个包内全局字符串变量下面语法正确的是" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. var str string</li>
  <li>B. str := “”</li>
  <li>C. str = “”</li>
  <li>D. var str = “”</li>
</ul>

<p><strong>答：A D</strong></p>

<p><strong>解析：</strong></p>

<p>全局变量要定义在函数之外，而在函数之外定义的变量只能用 var 定义。短变量声明 := 只能用于函数之内。</p>

<h3 id="184-下面的代码有什么问题"><span class="me-2">184. 下面的代码有什么问题？</span><a href="#184-下面的代码有什么问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="n">wg</span> <span class="o">:=</span> <span class="n">sync</span><span class="o">.</span><span class="n">WaitGroup</span><span class="p">{}</span>

    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="k">go</span> <span class="k">func</span><span class="p">(</span><span class="n">wg</span> <span class="n">sync</span><span class="o">.</span><span class="n">WaitGroup</span><span class="p">,</span> <span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">wg</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"i:%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="n">wg</span><span class="o">.</span><span class="n">Done</span><span class="p">()</span>
        <span class="p">}(</span><span class="n">wg</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">wg</span><span class="o">.</span><span class="n">Wait</span><span class="p">()</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"exit"</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>知识点：WaitGroup 的使用。存在两个问题：</p>

<ul>
  <li>在协程中使用 wg.Add()；</li>
  <li>使用了 sync.WaitGroup 副本；</li>
</ul>

<p>修复代码：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="n">wg</span> <span class="o">:=</span> <span class="n">sync</span><span class="o">.</span><span class="n">WaitGroup</span><span class="p">{}</span>

    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="n">wg</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
        <span class="k">go</span> <span class="k">func</span><span class="p">(</span><span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"i:%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="n">wg</span><span class="o">.</span><span class="n">Done</span><span class="p">()</span>
        <span class="p">}(</span><span class="n">i</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">wg</span><span class="o">.</span><span class="n">Wait</span><span class="p">()</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"exit"</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>或者：</p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="n">wg</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">sync</span><span class="o">.</span><span class="n">WaitGroup</span><span class="p">{}</span>

    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="n">wg</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
        <span class="k">go</span> <span class="k">func</span><span class="p">(</span><span class="n">wg</span> <span class="o">*</span><span class="n">sync</span><span class="o">.</span><span class="n">WaitGroup</span><span class="p">,</span><span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"i:%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="n">wg</span><span class="o">.</span><span class="n">Done</span><span class="p">()</span>
        <span class="p">}(</span><span class="n">wg</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">wg</span><span class="o">.</span><span class="n">Wait</span><span class="p">()</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"exit"</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="185-下面的代码输出什么"><span class="me-2">185. 下面的代码输出什么？</span><a href="#185-下面的代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">a</span> <span class="p">[]</span><span class="kt">int</span> <span class="o">=</span> <span class="no">nil</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">},</span> <span class="m">9</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：运行时错误</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：多重赋值。</p>

<p>多重赋值分为两个步骤，有先后顺序：</p>

<ul>
  <li>计算等号左边的索引表达式和取址表达式，接着计算等号右边的表达式；</li>
  <li>赋值；</li>
</ul>

<h3 id="186-下面代码中的指针-p-为野指针因为返回的栈内存在函数结束时会被释放"><span class="me-2">186. 下面代码中的指针 p 为野指针，因为返回的栈内存在函数结束时会被释放？</span><a href="#186-下面代码中的指针-p-为野指针因为返回的栈内存在函数结束时会被释放" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">TimesMatcher</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">base</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">NewTimesMatcher</span><span class="p">(</span><span class="n">base</span> <span class="kt">int</span><span class="p">)</span> <span class="o">*</span><span class="n">TimesMatcher</span>  <span class="p">{</span>
    <span class="k">return</span> <span class="o">&amp;</span><span class="n">TimesMatcher</span><span class="p">{</span><span class="n">base</span><span class="o">:</span><span class="n">base</span><span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">p</span> <span class="o">:=</span> <span class="n">NewTimesMatcher</span><span class="p">(</span><span class="m">3</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>A. false</li>
  <li>B. true</li>
</ul>

<p><strong>答：A</strong></p>

<p><strong>解析：</strong></p>

<p>Go 语言的内存回收机制规定，只要有一个指针指向引用一个变量，那么这个变量就不会被释放（内存逃逸），因此在 Go 语言中返回函数参数或临时变量是安全的。</p>

<h3 id="187-下面这段代码输出什么"><span class="me-2">187. 下面这段代码输出什么？</span><a href="#187-下面这段代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">count</span> <span class="o">:=</span> <span class="m">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="p">[</span><span class="m">256</span><span class="p">]</span><span class="k">struct</span><span class="p">{}{}</span> <span class="p">{</span>
        <span class="n">m</span><span class="p">,</span> <span class="n">n</span> <span class="o">:=</span> <span class="kt">byte</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="kt">int8</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="o">-</span><span class="n">n</span> <span class="p">{</span>
            <span class="n">count</span><span class="o">++</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">m</span> <span class="o">==</span> <span class="o">-</span><span class="n">m</span> <span class="p">{</span>
            <span class="n">count</span><span class="o">++</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p><a href="https://github.com/yqchilde/Golang-Interview/issues/8">讨论 #8</a></p>

<p>知识点：数值溢出。当 i 的值为 0、128 是会发生相等情况，注意 byte 是 uint8 的别名。</p>

<h3 id="188-下面代码输出什么"><span class="me-2">188. 下面代码输出什么？</span><a href="#188-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="k">const</span> <span class="p">(</span>
    <span class="n">azero</span> <span class="o">=</span> <span class="no">iota</span>
    <span class="n">aone</span>  <span class="o">=</span> <span class="no">iota</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">info</span>  <span class="o">=</span> <span class="s">"msg"</span>
    <span class="n">bzero</span> <span class="o">=</span> <span class="no">iota</span>
    <span class="n">bone</span>  <span class="o">=</span> <span class="no">iota</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">azero</span><span class="p">,</span> <span class="n">aone</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">bzero</span><span class="p">,</span> <span class="n">bone</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：0 1 1 2</strong></p>

<p><strong>解析：</strong></p>

<p>知识点：iota 的使用。这道题易错点在 bzero、bone 的值，在一个常量声明代码块中，如果 iota 没出现在第一行，则常量的初始值就是非 0 值。</p>

<h3 id="189-同级文件的包名不允许有多个是否正确"><span class="me-2">189. 同级文件的包名不允许有多个，是否正确？</span><a href="#189-同级文件的包名不允许有多个是否正确" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. true</li>
  <li>B. false</li>
</ul>

<p><strong>答：A</strong></p>

<p><strong>解析：</strong></p>

<p>一个文件夹下只能有一个包，可以多个.go 文件，但这些文件必须属于同一个包。</p>

<h3 id="190-下面的代码有什么问题请说明"><span class="me-2">190. 下面的代码有什么问题，请说明。</span><a href="#190-下面的代码有什么问题请说明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">data</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">name</span> <span class="kt">string</span>
<span class="p">}</span>

<span class="k">func</span> <span class="p">(</span><span class="n">p</span> <span class="o">*</span><span class="n">data</span><span class="p">)</span> <span class="nb">print</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"name:"</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">printer</span> <span class="k">interface</span> <span class="p">{</span>
    <span class="nb">print</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">d1</span> <span class="o">:=</span> <span class="n">data</span><span class="p">{</span><span class="s">"one"</span><span class="p">}</span>
    <span class="n">d1</span><span class="o">.</span><span class="nb">print</span><span class="p">()</span>

    <span class="k">var</span> <span class="n">in</span> <span class="n">printer</span> <span class="o">=</span> <span class="n">data</span><span class="p">{</span><span class="s">"two"</span><span class="p">}</span>
    <span class="n">in</span><span class="o">.</span><span class="nb">print</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：编译报错</strong></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>cannot use data literal <span class="o">(</span><span class="nb">type </span>data<span class="o">)</span> as <span class="nb">type </span>printer <span class="k">in </span>assignment:
data does not implement printer <span class="o">(</span>print method has pointer receiver<span class="o">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>解析：</strong></p>

<p>结构体类型 data 没有实现接口 printer。知识点：接口。</p>

<h3 id="191-函数执行时如果由于-panic-导致了异常则延迟函数不会执行这一说法是否正确"><span class="me-2">191. 函数执行时，如果由于 panic 导致了异常，则延迟函数不会执行。这一说法是否正确？</span><a href="#191-函数执行时如果由于-panic-导致了异常则延迟函数不会执行这一说法是否正确" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>A. true</li>
  <li>B. false</li>
</ul>

<p><strong>答：B</strong></p>

<p><strong>解析：</strong></p>

<p>由 panic 引发异常以后，程序停止执行，然后调用延迟函数（defer），就像程序正常退出一样。</p>

<h3 id="192-下面代码输出什么"><span class="me-2">192. 下面代码输出什么？</span><a href="#192-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">a</span> <span class="o">:=</span> <span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">}</span>
    <span class="n">s</span> <span class="o">:=</span> <span class="n">a</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">]</span>

    <span class="n">s</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">=</span> <span class="m">11</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="m">12</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="m">13</span><span class="p">)</span>
    <span class="n">s</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">=</span> <span class="m">21</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：</strong></p>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="m">0</span> <span class="m">11</span> <span class="m">12</span><span class="p">]</span>
<span class="p">[</span><span class="m">21</span> <span class="m">12</span> <span class="m">13</span><span class="p">]</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="193-下面这段代码输出什么请简要说明"><span class="me-2">193. 下面这段代码输出什么？请简要说明。</span><a href="#193-下面这段代码输出什么请简要说明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">strings</span><span class="o">.</span><span class="n">TrimRight</span><span class="p">(</span><span class="s">"ABBA"</span><span class="p">,</span> <span class="s">"BA"</span><span class="p">))</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：输出结果为”“</strong></p>

<p><strong>解析：</strong></p>

<p><a href="https://github.com/yqchilde/Golang-Interview/issues/4">题解 #4</a></p>

<p>strings.TrimRight 的作用是把有包含第二个参数的组合项的对应字母都替换掉，比如”BA”的组合集合为{“BA”, “AB”, “A”, “B”}；
但是它有一个中止条件，如果从右到左有一个字母或字母组合不为”BA”的排列组合集合中的元素，便会停止 cut，把当前已 cut 完的字符串返回</p>

<h3 id="194-下面代码输出什么"><span class="me-2">194. 下面代码输出什么？</span><a href="#194-下面代码输出什么" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-go highlighter-rouge"><div class="code-header">
        <span data-label-text="Go"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="n">src</span><span class="p">,</span> <span class="n">dst</span> <span class="p">[]</span><span class="kt">int</span>
    <span class="n">src</span> <span class="o">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">}</span>
    <span class="nb">copy</span><span class="p">(</span><span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>答：输出结果为[]</strong></p>

<p><strong>解析：</strong></p>

<p><a href="https://github.com/yqchilde/Golang-Interview/issues/5">题解 #5</a></p>

<p>copy 函数实际上会返回一个 int 值，这个 int 是一个 size，计算逻辑为 size = min(len(dst), len(src))，这个 size 的大小，
决定了 src 要 copy 几个元素给 dst，由于题目中，dst 声明了，但是没有进行初始化，所以 dst 的 len 是 0，因此实际没有从 src 上 copy 到任何元素给 dst</p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/language/">Language</a>,
          <a href="/categories/go/">Go</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/gointerview/"
            class="post-tag no-text-decoration"
          >GoInterview</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=Golang%20Interview%20Question%20bank%20-%20Cc%20Blog&url=https%3A%2F%2Fcc360428.github.io%2F%2Fposts%2Fgo-interview-Question-bank%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=Golang%20Interview%20Question%20bank%20-%20Cc%20Blog&u=https%3A%2F%2Fcc360428.github.io%2F%2Fposts%2Fgo-interview-Question-bank%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=https%3A%2F%2Fcc360428.github.io%2F%2Fposts%2Fgo-interview-Question-bank%2F&text=Golang%20Interview%20Question%20bank%20-%20Cc%20Blog" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/k8s-work-cmd/">Kubernetes Work CMD</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/CDN/">CDN</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/clickhouse-base/">ClickHouse</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/redis-py-utils/">开发脚本</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/services/">Kubernetes Services</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/server/">Server</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/go/">Go</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/linuxtool/">LinuxTool</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/goweb/">GoWeb</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/gobase/">GoBase</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/tools/">Tools</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python/">Python</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python-base/">Python Base</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/dev/">Dev</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/client/">Client</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="ps-0 pe-4">
    <h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/go-interview-algorithm/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1593009438"
  data-df="ll"
  
>
  Jun 24, 2020
</time>

              <h4 class="pt-0 my-2">Golang Interview algorithm</h4>
              <div class="text-muted">
                <p>
                  





                  算法

基本概念

二叉树

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/go-interview-base/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1593009438"
  data-df="ll"
  
>
  Jun 24, 2020
</time>

              <h4 class="pt-0 my-2">Golang Interview Base</h4>
              <div class="text-muted">
                <p>
                  





                  基础问题

内置标识符


  
    const

    
      
        iota
iota 是一个预定义的标识符，代表顺序按行增加的无符号整数，每个 const 声明单元（被括号括起来）相互独立，分别从 0 开始。

        1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/go-interview-middleware/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1593009438"
  data-df="ll"
  
>
  Jun 24, 2020
</time>

              <h4 class="pt-0 my-2">Golang Interview Mysql</h4>
              <div class="text-muted">
                <p>
                  





                  中间件

redis

基本使用


  string（字符串）
    
      计数、获取验证码
    
  
  hash（字典）
    
      用户基本信息、应用目录
    
  
  list（列表链表）
    
      单个列表型结构，可以实现轻量级的消息队列 生产者 push ,消费者 pop/bpop
    
  
  set（集合）
    
   ...
                </p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/7-voice/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>English 语态</p>
    </a>
  

  
    <a
      href="/posts/go-interview-algorithm/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>Golang Interview algorithm</p>
    </a>
  
</nav>

            
              
              <!--  The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2024</time>

    
      <a href="https://Cc360428.gitee.io/cc/">Cc</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>Using the <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/server/">Server</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/go/">Go</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/linuxtool/">LinuxTool</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/goweb/">GoWeb</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/gobase/">GoBase</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/tools/">Tools</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python/">Python</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python-base/">Python Base</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/dev/">Dev</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/client/">Client</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->




  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/en.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

